<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-
1">
<title>API documentation for Posix enviroment</title>
<style type="text/css">

BODY { background-color: #e0e0ff; }
H1 { text-align: center; }
CAPTION { font-weight: bold }
A { color: #000066; text-decoration: none; font-weight: bold; }
A.qindex {}
A.qindexRef {}
A.el { text-decoration: none; font-weight: bold }
A.elRef { font-weight: bold }
A.code { text-decoration: none; font-weight: normal; color: #4444ee }
A.codeRef { font-weight: normal; color: #4444ee }
A:hover { text-decoration: underline; background-color: #f2f2ff }
A:visited { color: #000066; }
DL.el { margin-left: -1cm }
DIV.fragment { width: 100%; border: none; background-color: #eeeeee }
DIV.ah { background-color: black; font-weight: bold; color: #ffffff; margin-bottom: 3px; margin-top: 3px }
TD.md { background-color: #f2f2ff; font-weight: bold; }
TD.mdname1 { background-color: #f2f2ff; font-weight: bold; color: #602020; }
TD.mdname { background-color: #f2f2ff; font-weight: bold; color: #602020; width: 600px; }
DIV.groupHeader { margin-left: 16px; margin-top: 12px; margin-bottom: 6px; font-weight: bold }
DIV.groupText { margin-left: 16px; font-style: italic; font-size: smaller }
TR, TD, TABLE { padding: 0 0 0 0; margin: 0 0 0 0; }
TD.indexkey { 
   background-color: #d0d0ff; 
   font-weight: bold; 
   padding-right  : 10px; 
   padding-top    : 2px; 
   padding-left   : 10px; 
   padding-bottom : 2px; 
   margin-left    : 0px; 
   margin-right   : 0px; 
   margin-top     : 0px; 
   margin-bottom  : 0px  
}
TD.indexvalue { 
   background-color: #d0d0ff; 
   font-style: italic; 
   padding-right  : 10px; 
   padding-top    : 2px; 
   padding-left   : 10px; 
   padding-bottom : 2px; 
   margin-left    : 0px; 
   margin-right   : 0px; 
   margin-top     : 0px; 
   margin-bottom  : 0px  
}
span.keyword       { color: #008000 }
span.keywordtype   { color: #604020 }
span.keywordflow   { color: #e08000 }
span.comment       { color: #800000 }
span.preprocessor  { color: #806020 }
span.stringliteral { color: #002080 }
span.charliteral   { color: #008080 }

BODY, TD { font-family: tahoma, verdana, arial, sansserif; font-size: 11px; }

</style>
</head><body>
<center><a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="annotated.html">Data Structures</a> &nbsp; <a class="qindex" href="functions.html">Data Structure Members List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="globals.html">Globals</a> &nbsp; </center>


<!-- Generated by Doxygen 1.3.5 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a></div>
<h1>socket.h</h1><a href="bits_2socket_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">/* System-specific socket constants and types.  Linux version.</span>
00002 <span class="comment">   Copyright (C) 1991,1992,1994-1999,2000,2001 Free Software Foundation, Inc.</span>
00003 <span class="comment">   This file is part of the GNU C Library.</span>
00004 <span class="comment"></span>
00005 <span class="comment">   The GNU C Library is free software; you can redistribute it and/or</span>
00006 <span class="comment">   modify it under the terms of the GNU Lesser General Public</span>
00007 <span class="comment">   License as published by the Free Software Foundation; either</span>
00008 <span class="comment">   version 2.1 of the License, or (at your option) any later version.</span>
00009 <span class="comment"></span>
00010 <span class="comment">   The GNU C Library is distributed in the hope that it will be useful,</span>
00011 <span class="comment">   but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
00012 <span class="comment">   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span>
00013 <span class="comment">   Lesser General Public License for more details.</span>
00014 <span class="comment"></span>
00015 <span class="comment">   You should have received a copy of the GNU Lesser General Public</span>
00016 <span class="comment">   License along with the GNU C Library; if not, write to the Free</span>
00017 <span class="comment">   Software Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA</span>
00018 <span class="comment">   02111-1307 USA.  */</span>
00019 
00020 <span class="preprocessor">#ifndef __BITS_SOCKET_H</span>
00021 <span class="preprocessor"></span><span class="preprocessor">#define __BITS_SOCKET_H</span>
00022 <span class="preprocessor"></span>
00023 <span class="preprocessor">#if !defined _SYS_SOCKET_H &amp;&amp; !defined _NETINET_IN_H</span>
00024 <span class="preprocessor"></span><span class="preprocessor"># error "Never include &lt;bits/socket.h&gt; directly; use &lt;sys/socket.h&gt; instead."</span>
00025 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00026 <span class="preprocessor"></span>
<a name="l00027"></a><a class="code" href="bits_2socket_8h.html#a0">00027</a> <span class="preprocessor">#define __need_size_t</span>
<a name="l00028"></a><a class="code" href="bits_2socket_8h.html#a1">00028</a> <span class="preprocessor"></span><span class="preprocessor">#define __need_NULL</span>
00029 <span class="preprocessor"></span><span class="preprocessor">#include &lt;<a class="code" href="stddef_8h.html">stddef.h</a>&gt;</span>
00030 
00031 <span class="preprocessor">#include &lt;<a class="code" href="limits_8h.html">limits.h</a>&gt;</span>
00032 <span class="preprocessor">#include &lt;<a class="code" href="sys_2types_8h.html">sys/types.h</a>&gt;</span>
00033 
00034 <span class="comment">/* Type for length arguments in socket calls.  */</span>
00035 <span class="preprocessor">#ifndef __socklen_t_defined</span>
<a name="l00036"></a><a class="code" href="bits_2socket_8h.html#a103">00036</a> <span class="preprocessor"></span><span class="keyword">typedef</span> <a class="code" href="bits_2types_8h.html#a50">__socklen_t</a> <a class="code" href="bits_2socket_8h.html#a103">socklen_t</a>;
00037 <span class="preprocessor"># define __socklen_t_defined</span>
00038 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00039 <span class="preprocessor"></span>
00040 <span class="comment">/* Types of sockets.  */</span>
<a name="l00041"></a><a class="code" href="bits_2socket_8h.html#a130">00041</a> <span class="keyword">enum</span> <a class="code" href="bits_2socket_8h.html#a130">__socket_type</a>
00042 {
00043   <a class="code" href="bits_2socket_8h.html#a2">SOCK_STREAM</a> = 1,      <span class="comment">/* Sequenced, reliable, connection-based</span>
00044 <span class="comment">                   byte streams.  */</span>
00045 <span class="preprocessor">#define SOCK_STREAM SOCK_STREAM</span>
00046 <span class="preprocessor"></span>  <a class="code" href="bits_2socket_8h.html#a3">SOCK_DGRAM</a> = 2,       <span class="comment">/* Connectionless, unreliable datagrams</span>
00047 <span class="comment">                   of fixed maximum length.  */</span>
00048 <span class="preprocessor">#define SOCK_DGRAM SOCK_DGRAM</span>
00049 <span class="preprocessor"></span>  <a class="code" href="bits_2socket_8h.html#a4">SOCK_RAW</a> = 3,         <span class="comment">/* Raw protocol interface.  */</span>
00050 <span class="preprocessor">#define SOCK_RAW SOCK_RAW</span>
00051 <span class="preprocessor"></span>  <a class="code" href="bits_2socket_8h.html#a5">SOCK_RDM</a> = 4,         <span class="comment">/* Reliably-delivered messages.  */</span>
00052 <span class="preprocessor">#define SOCK_RDM SOCK_RDM</span>
00053 <span class="preprocessor"></span>  <a class="code" href="bits_2socket_8h.html#a6">SOCK_SEQPACKET</a> = 5,       <span class="comment">/* Sequenced, reliable, connection-based,</span>
00054 <span class="comment">                   datagrams of fixed maximum length.  */</span>
00055 <span class="preprocessor">#define SOCK_SEQPACKET SOCK_SEQPACKET</span>
00056 <span class="preprocessor"></span>  <a class="code" href="bits_2socket_8h.html#a7">SOCK_PACKET</a> = 10      <span class="comment">/* Linux specific way of getting packets</span>
00057 <span class="comment">                   at the dev level.  For writing rarp and</span>
00058 <span class="comment">                   other similar things on the user level. */</span>
00059 <span class="preprocessor">#define SOCK_PACKET SOCK_PACKET</span>
00060 <span class="preprocessor"></span>};
00061 
00062 <span class="comment">/* Protocol families.  */</span>
<a name="l00063"></a><a class="code" href="bits_2socket_8h.html#a8">00063</a> <span class="preprocessor">#define PF_UNSPEC   0   </span><span class="comment">/* Unspecified.  */</span>
<a name="l00064"></a><a class="code" href="bits_2socket_8h.html#a9">00064</a> <span class="preprocessor">#define PF_LOCAL    1   </span><span class="comment">/* Local to host (pipes and file-domain).  */</span>
<a name="l00065"></a><a class="code" href="bits_2socket_8h.html#a10">00065</a> <span class="preprocessor">#define PF_UNIX     PF_LOCAL </span><span class="comment">/* Old BSD name for PF_LOCAL.  */</span>
<a name="l00066"></a><a class="code" href="bits_2socket_8h.html#a11">00066</a> <span class="preprocessor">#define PF_FILE     PF_LOCAL </span><span class="comment">/* Another non-standard name for PF_LOCAL.  */</span>
<a name="l00067"></a><a class="code" href="bits_2socket_8h.html#a12">00067</a> <span class="preprocessor">#define PF_INET     2   </span><span class="comment">/* IP protocol family.  */</span>
<a name="l00068"></a><a class="code" href="bits_2socket_8h.html#a13">00068</a> <span class="preprocessor">#define PF_AX25     3   </span><span class="comment">/* Amateur Radio AX.25.  */</span>
<a name="l00069"></a><a class="code" href="bits_2socket_8h.html#a14">00069</a> <span class="preprocessor">#define PF_IPX      4   </span><span class="comment">/* Novell Internet Protocol.  */</span>
<a name="l00070"></a><a class="code" href="bits_2socket_8h.html#a15">00070</a> <span class="preprocessor">#define PF_APPLETALK    5   </span><span class="comment">/* Appletalk DDP.  */</span>
<a name="l00071"></a><a class="code" href="bits_2socket_8h.html#a16">00071</a> <span class="preprocessor">#define PF_NETROM   6   </span><span class="comment">/* Amateur radio NetROM.  */</span>
<a name="l00072"></a><a class="code" href="bits_2socket_8h.html#a17">00072</a> <span class="preprocessor">#define PF_BRIDGE   7   </span><span class="comment">/* Multiprotocol bridge.  */</span>
<a name="l00073"></a><a class="code" href="bits_2socket_8h.html#a18">00073</a> <span class="preprocessor">#define PF_ATMPVC   8   </span><span class="comment">/* ATM PVCs.  */</span>
<a name="l00074"></a><a class="code" href="bits_2socket_8h.html#a19">00074</a> <span class="preprocessor">#define PF_X25      9   </span><span class="comment">/* Reserved for X.25 project.  */</span>
<a name="l00075"></a><a class="code" href="bits_2socket_8h.html#a20">00075</a> <span class="preprocessor">#define PF_INET6    10  </span><span class="comment">/* IP version 6.  */</span>
<a name="l00076"></a><a class="code" href="bits_2socket_8h.html#a21">00076</a> <span class="preprocessor">#define PF_ROSE     11  </span><span class="comment">/* Amateur Radio X.25 PLP.  */</span>
<a name="l00077"></a><a class="code" href="bits_2socket_8h.html#a22">00077</a> <span class="preprocessor">#define PF_DECnet   12  </span><span class="comment">/* Reserved for DECnet project.  */</span>
<a name="l00078"></a><a class="code" href="bits_2socket_8h.html#a23">00078</a> <span class="preprocessor">#define PF_NETBEUI  13  </span><span class="comment">/* Reserved for 802.2LLC project.  */</span>
<a name="l00079"></a><a class="code" href="bits_2socket_8h.html#a24">00079</a> <span class="preprocessor">#define PF_SECURITY 14  </span><span class="comment">/* Security callback pseudo AF.  */</span>
<a name="l00080"></a><a class="code" href="bits_2socket_8h.html#a25">00080</a> <span class="preprocessor">#define PF_KEY      15  </span><span class="comment">/* PF_KEY key management API.  */</span>
<a name="l00081"></a><a class="code" href="bits_2socket_8h.html#a26">00081</a> <span class="preprocessor">#define PF_NETLINK  16</span>
<a name="l00082"></a><a class="code" href="bits_2socket_8h.html#a27">00082</a> <span class="preprocessor"></span><span class="preprocessor">#define PF_ROUTE    PF_NETLINK </span><span class="comment">/* Alias to emulate 4.4BSD.  */</span>
<a name="l00083"></a><a class="code" href="bits_2socket_8h.html#a28">00083</a> <span class="preprocessor">#define PF_PACKET   17  </span><span class="comment">/* Packet family.  */</span>
<a name="l00084"></a><a class="code" href="bits_2socket_8h.html#a29">00084</a> <span class="preprocessor">#define PF_ASH      18  </span><span class="comment">/* Ash.  */</span>
<a name="l00085"></a><a class="code" href="bits_2socket_8h.html#a30">00085</a> <span class="preprocessor">#define PF_ECONET   19  </span><span class="comment">/* Acorn Econet.  */</span>
<a name="l00086"></a><a class="code" href="bits_2socket_8h.html#a31">00086</a> <span class="preprocessor">#define PF_ATMSVC   20  </span><span class="comment">/* ATM SVCs.  */</span>
<a name="l00087"></a><a class="code" href="bits_2socket_8h.html#a32">00087</a> <span class="preprocessor">#define PF_SNA      22  </span><span class="comment">/* Linux SNA Project */</span>
<a name="l00088"></a><a class="code" href="bits_2socket_8h.html#a33">00088</a> <span class="preprocessor">#define PF_IRDA     23  </span><span class="comment">/* IRDA sockets.  */</span>
<a name="l00089"></a><a class="code" href="bits_2socket_8h.html#a34">00089</a> <span class="preprocessor">#define PF_PPPOX    24  </span><span class="comment">/* PPPoX sockets.  */</span>
<a name="l00090"></a><a class="code" href="bits_2socket_8h.html#a35">00090</a> <span class="preprocessor">#define PF_WANPIPE  25  </span><span class="comment">/* Wanpipe API sockets.  */</span>
<a name="l00091"></a><a class="code" href="bits_2socket_8h.html#a36">00091</a> <span class="preprocessor">#define PF_BLUETOOTH    31  </span><span class="comment">/* Bluetooth sockets.  */</span>
<a name="l00092"></a><a class="code" href="bits_2socket_8h.html#a37">00092</a> <span class="preprocessor">#define PF_MAX      32  </span><span class="comment">/* For now..  */</span>
00093 
00094 <span class="comment">/* Address families.  */</span>
<a name="l00095"></a><a class="code" href="bits_2socket_8h.html#a38">00095</a> <span class="preprocessor">#define AF_UNSPEC   PF_UNSPEC</span>
<a name="l00096"></a><a class="code" href="bits_2socket_8h.html#a39">00096</a> <span class="preprocessor"></span><span class="preprocessor">#define AF_LOCAL    PF_LOCAL</span>
<a name="l00097"></a><a class="code" href="bits_2socket_8h.html#a40">00097</a> <span class="preprocessor"></span><span class="preprocessor">#define AF_UNIX     PF_UNIX</span>
<a name="l00098"></a><a class="code" href="bits_2socket_8h.html#a41">00098</a> <span class="preprocessor"></span><span class="preprocessor">#define AF_FILE     PF_FILE</span>
<a name="l00099"></a><a class="code" href="bits_2socket_8h.html#a42">00099</a> <span class="preprocessor"></span><span class="preprocessor">#define AF_INET     PF_INET</span>
<a name="l00100"></a><a class="code" href="bits_2socket_8h.html#a43">00100</a> <span class="preprocessor"></span><span class="preprocessor">#define AF_AX25     PF_AX25</span>
<a name="l00101"></a><a class="code" href="bits_2socket_8h.html#a44">00101</a> <span class="preprocessor"></span><span class="preprocessor">#define AF_IPX      PF_IPX</span>
<a name="l00102"></a><a class="code" href="bits_2socket_8h.html#a45">00102</a> <span class="preprocessor"></span><span class="preprocessor">#define AF_APPLETALK    PF_APPLETALK</span>
<a name="l00103"></a><a class="code" href="bits_2socket_8h.html#a46">00103</a> <span class="preprocessor"></span><span class="preprocessor">#define AF_NETROM   PF_NETROM</span>
<a name="l00104"></a><a class="code" href="bits_2socket_8h.html#a47">00104</a> <span class="preprocessor"></span><span class="preprocessor">#define AF_BRIDGE   PF_BRIDGE</span>
<a name="l00105"></a><a class="code" href="bits_2socket_8h.html#a48">00105</a> <span class="preprocessor"></span><span class="preprocessor">#define AF_ATMPVC   PF_ATMPVC</span>
<a name="l00106"></a><a class="code" href="bits_2socket_8h.html#a49">00106</a> <span class="preprocessor"></span><span class="preprocessor">#define AF_X25      PF_X25</span>
<a name="l00107"></a><a class="code" href="bits_2socket_8h.html#a50">00107</a> <span class="preprocessor"></span><span class="preprocessor">#define AF_INET6    PF_INET6</span>
<a name="l00108"></a><a class="code" href="bits_2socket_8h.html#a51">00108</a> <span class="preprocessor"></span><span class="preprocessor">#define AF_ROSE     PF_ROSE</span>
<a name="l00109"></a><a class="code" href="bits_2socket_8h.html#a52">00109</a> <span class="preprocessor"></span><span class="preprocessor">#define AF_DECnet   PF_DECnet</span>
<a name="l00110"></a><a class="code" href="bits_2socket_8h.html#a53">00110</a> <span class="preprocessor"></span><span class="preprocessor">#define AF_NETBEUI  PF_NETBEUI</span>
<a name="l00111"></a><a class="code" href="bits_2socket_8h.html#a54">00111</a> <span class="preprocessor"></span><span class="preprocessor">#define AF_SECURITY PF_SECURITY</span>
<a name="l00112"></a><a class="code" href="bits_2socket_8h.html#a55">00112</a> <span class="preprocessor"></span><span class="preprocessor">#define AF_KEY      PF_KEY</span>
<a name="l00113"></a><a class="code" href="bits_2socket_8h.html#a56">00113</a> <span class="preprocessor"></span><span class="preprocessor">#define AF_NETLINK  PF_NETLINK</span>
<a name="l00114"></a><a class="code" href="bits_2socket_8h.html#a57">00114</a> <span class="preprocessor"></span><span class="preprocessor">#define AF_ROUTE    PF_ROUTE</span>
<a name="l00115"></a><a class="code" href="bits_2socket_8h.html#a58">00115</a> <span class="preprocessor"></span><span class="preprocessor">#define AF_PACKET   PF_PACKET</span>
<a name="l00116"></a><a class="code" href="bits_2socket_8h.html#a59">00116</a> <span class="preprocessor"></span><span class="preprocessor">#define AF_ASH      PF_ASH</span>
<a name="l00117"></a><a class="code" href="bits_2socket_8h.html#a60">00117</a> <span class="preprocessor"></span><span class="preprocessor">#define AF_ECONET   PF_ECONET</span>
<a name="l00118"></a><a class="code" href="bits_2socket_8h.html#a61">00118</a> <span class="preprocessor"></span><span class="preprocessor">#define AF_ATMSVC   PF_ATMSVC</span>
<a name="l00119"></a><a class="code" href="bits_2socket_8h.html#a62">00119</a> <span class="preprocessor"></span><span class="preprocessor">#define AF_SNA      PF_SNA</span>
<a name="l00120"></a><a class="code" href="bits_2socket_8h.html#a63">00120</a> <span class="preprocessor"></span><span class="preprocessor">#define AF_IRDA     PF_IRDA</span>
<a name="l00121"></a><a class="code" href="bits_2socket_8h.html#a64">00121</a> <span class="preprocessor"></span><span class="preprocessor">#define AF_PPPOX    PF_PPPOX</span>
<a name="l00122"></a><a class="code" href="bits_2socket_8h.html#a65">00122</a> <span class="preprocessor"></span><span class="preprocessor">#define AF_WANPIPE  PF_WANPIPE</span>
<a name="l00123"></a><a class="code" href="bits_2socket_8h.html#a66">00123</a> <span class="preprocessor"></span><span class="preprocessor">#define AF_BLUETOOTH    PF_BLUETOOTH</span>
<a name="l00124"></a><a class="code" href="bits_2socket_8h.html#a67">00124</a> <span class="preprocessor"></span><span class="preprocessor">#define AF_MAX      PF_MAX</span>
00125 <span class="preprocessor"></span>
00126 <span class="comment">/* Socket level values.  Others are defined in the appropriate headers.</span>
00127 <span class="comment"></span>
00128 <span class="comment">   XXX These definitions also should go into the appropriate headers as</span>
00129 <span class="comment">   far as they are available.  */</span>
<a name="l00130"></a><a class="code" href="bits_2socket_8h.html#a68">00130</a> <span class="preprocessor">#define SOL_RAW     255</span>
<a name="l00131"></a><a class="code" href="bits_2socket_8h.html#a69">00131</a> <span class="preprocessor"></span><span class="preprocessor">#define SOL_DECNET      261</span>
<a name="l00132"></a><a class="code" href="bits_2socket_8h.html#a70">00132</a> <span class="preprocessor"></span><span class="preprocessor">#define SOL_X25         262</span>
<a name="l00133"></a><a class="code" href="bits_2socket_8h.html#a71">00133</a> <span class="preprocessor"></span><span class="preprocessor">#define SOL_PACKET  263</span>
<a name="l00134"></a><a class="code" href="bits_2socket_8h.html#a72">00134</a> <span class="preprocessor"></span><span class="preprocessor">#define SOL_ATM     264 </span><span class="comment">/* ATM layer (cell level).  */</span>
<a name="l00135"></a><a class="code" href="bits_2socket_8h.html#a73">00135</a> <span class="preprocessor">#define SOL_AAL     265 </span><span class="comment">/* ATM Adaption Layer (packet level).  */</span>
<a name="l00136"></a><a class="code" href="bits_2socket_8h.html#a74">00136</a> <span class="preprocessor">#define SOL_IRDA    266</span>
00137 <span class="preprocessor"></span>
00138 <span class="comment">/* Maximum queue length specifiable by listen.  */</span>
<a name="l00139"></a><a class="code" href="bits_2socket_8h.html#a75">00139</a> <span class="preprocessor">#define SOMAXCONN   128</span>
00140 <span class="preprocessor"></span>
00141 <span class="comment">/* Get the definition of the macro to define the common sockaddr members.  */</span>
00142 <span class="preprocessor">#include &lt;<a class="code" href="sockaddr_8h.html">bits/sockaddr.h</a>&gt;</span>
00143 
00144 <span class="comment">/* Structure describing a generic socket address.  */</span>
<a name="l00145"></a><a class="code" href="structsockaddr.html">00145</a> <span class="keyword">struct </span><a class="code" href="structsockaddr.html">sockaddr</a>
00146   {
00147     <a class="code" href="structsockaddr.html#a0">__SOCKADDR_COMMON</a> (sa_);    <span class="comment">/* Common data: address family and length.  */</span>
<a name="l00148"></a><a class="code" href="structsockaddr.html#o0">00148</a>     <span class="keywordtype">char</span> <a class="code" href="structsockaddr.html#o0">sa_data</a>[14];       <span class="comment">/* Address data.  */</span>
00149   };
00150 
00151 
00152 <span class="comment">/* Structure large enough to hold any socket address (with the historical</span>
00153 <span class="comment">   exception of AF_UNIX).  We reserve 128 bytes.  */</span>
00154 <span class="preprocessor">#if ULONG_MAX &gt; 0xffffffff</span>
00155 <span class="preprocessor"></span><span class="preprocessor"># define __ss_aligntype __uint64_t</span>
00156 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00157"></a><a class="code" href="bits_2socket_8h.html#a76">00157</a> <span class="preprocessor"></span><span class="preprocessor"># define __ss_aligntype __uint32_t</span>
00158 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00159"></a><a class="code" href="bits_2socket_8h.html#a77">00159</a> <span class="preprocessor"></span><span class="preprocessor">#define _SS_SIZE    128</span>
<a name="l00160"></a><a class="code" href="bits_2socket_8h.html#a78">00160</a> <span class="preprocessor"></span><span class="preprocessor">#define _SS_PADSIZE (_SS_SIZE - (2 * sizeof (__ss_aligntype)))</span>
00161 <span class="preprocessor"></span>
<a name="l00162"></a><a class="code" href="structsockaddr__storage.html">00162</a> <span class="keyword">struct </span><a class="code" href="structsockaddr__storage.html">sockaddr_storage</a>
00163   {
00164     <a class="code" href="structsockaddr__storage.html#a0">__SOCKADDR_COMMON</a> (ss_);    <span class="comment">/* Address family, etc.  */</span>
<a name="l00165"></a><a class="code" href="structsockaddr__storage.html#o0">00165</a>     <a class="code" href="bits_2socket_8h.html#a76">__ss_aligntype</a> <a class="code" href="structsockaddr__storage.html#o0">__ss_align</a>;  <span class="comment">/* Force desired alignment.  */</span>
<a name="l00166"></a><a class="code" href="structsockaddr__storage.html#o1">00166</a>     <span class="keywordtype">char</span> <a class="code" href="structsockaddr__storage.html#o1">__ss_padding</a>[<a class="code" href="bits_2socket_8h.html#a78">_SS_PADSIZE</a>];
00167   };
00168 
00169 
00170 <span class="comment">/* Bits in the FLAGS argument to `send', `recv', et al.  */</span>
00171 <span class="keyword">enum</span>
00172   {
00173     <a class="code" href="bits_2socket_8h.html#a79">MSG_OOB</a>     = 0x01, <span class="comment">/* Process out-of-band data.  */</span>
00174 <span class="preprocessor">#define MSG_OOB     MSG_OOB</span>
00175 <span class="preprocessor"></span>    <a class="code" href="bits_2socket_8h.html#a80">MSG_PEEK</a>        = 0x02, <span class="comment">/* Peek at incoming messages.  */</span>
00176 <span class="preprocessor">#define MSG_PEEK    MSG_PEEK</span>
00177 <span class="preprocessor"></span>    <a class="code" href="bits_2socket_8h.html#a81">MSG_DONTROUTE</a>   = 0x04, <span class="comment">/* Don't use local routing.  */</span>
00178 <span class="preprocessor">#define MSG_DONTROUTE   MSG_DONTROUTE</span>
00179 <span class="preprocessor"></span><span class="preprocessor">#ifdef __USE_GNU</span>
00180 <span class="preprocessor"></span>    <span class="comment">/* DECnet uses a different name.  */</span>
00181     MSG_TRYHARD     = <a class="code" href="bits_2socket_8h.html#a81">MSG_DONTROUTE</a>,
00182 <span class="preprocessor"># define MSG_TRYHARD    MSG_DONTROUTE</span>
00183 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00184 <span class="preprocessor"></span>    <a class="code" href="bits_2socket_8h.html#a82">MSG_CTRUNC</a>      = 0x08, <span class="comment">/* Control data lost before delivery.  */</span>
00185 <span class="preprocessor">#define MSG_CTRUNC  MSG_CTRUNC</span>
00186 <span class="preprocessor"></span>    <a class="code" href="bits_2socket_8h.html#a83">MSG_PROXY</a>       = 0x10, <span class="comment">/* Supply or ask second address.  */</span>
00187 <span class="preprocessor">#define MSG_PROXY   MSG_PROXY</span>
00188 <span class="preprocessor"></span>    <a class="code" href="bits_2socket_8h.html#a84">MSG_TRUNC</a>       = 0x20,
00189 <span class="preprocessor">#define MSG_TRUNC   MSG_TRUNC</span>
00190 <span class="preprocessor"></span>    <a class="code" href="bits_2socket_8h.html#a85">MSG_DONTWAIT</a>    = 0x40, <span class="comment">/* Nonblocking IO.  */</span>
00191 <span class="preprocessor">#define MSG_DONTWAIT    MSG_DONTWAIT</span>
00192 <span class="preprocessor"></span>    <a class="code" href="bits_2socket_8h.html#a86">MSG_EOR</a>     = 0x80, <span class="comment">/* End of record.  */</span>
00193 <span class="preprocessor">#define MSG_EOR     MSG_EOR</span>
00194 <span class="preprocessor"></span>    <a class="code" href="bits_2socket_8h.html#a87">MSG_WAITALL</a>     = 0x100, <span class="comment">/* Wait for a full request.  */</span>
00195 <span class="preprocessor">#define MSG_WAITALL MSG_WAITALL</span>
00196 <span class="preprocessor"></span>    <a class="code" href="bits_2socket_8h.html#a88">MSG_FIN</a>     = 0x200,
00197 <span class="preprocessor">#define MSG_FIN     MSG_FIN</span>
00198 <span class="preprocessor"></span>    <a class="code" href="bits_2socket_8h.html#a89">MSG_SYN</a>     = 0x400,
00199 <span class="preprocessor">#define MSG_SYN     MSG_SYN</span>
00200 <span class="preprocessor"></span>    <a class="code" href="bits_2socket_8h.html#a90">MSG_CONFIRM</a>     = 0x800, <span class="comment">/* Confirm path validity.  */</span>
00201 <span class="preprocessor">#define MSG_CONFIRM MSG_CONFIRM</span>
00202 <span class="preprocessor"></span>    <a class="code" href="bits_2socket_8h.html#a91">MSG_RST</a>     = 0x1000,
00203 <span class="preprocessor">#define MSG_RST     MSG_RST</span>
00204 <span class="preprocessor"></span>    <a class="code" href="bits_2socket_8h.html#a92">MSG_ERRQUEUE</a>    = 0x2000, <span class="comment">/* Fetch message from error queue.  */</span>
00205 <span class="preprocessor">#define MSG_ERRQUEUE    MSG_ERRQUEUE</span>
00206 <span class="preprocessor"></span>    <a class="code" href="bits_2socket_8h.html#a93">MSG_NOSIGNAL</a>    = 0x4000, <span class="comment">/* Do not generate SIGPIPE.  */</span>
00207 <span class="preprocessor">#define MSG_NOSIGNAL    MSG_NOSIGNAL</span>
00208 <span class="preprocessor"></span>    <a class="code" href="bits_2socket_8h.html#a94">MSG_MORE</a>        = 0x8000  <span class="comment">/* Sender will send more.  */</span>
00209 <span class="preprocessor">#define MSG_MORE    MSG_MORE</span>
00210 <span class="preprocessor"></span>  };
00211 
00212 
00213 <span class="comment">/* Structure describing messages sent by</span>
00214 <span class="comment">   `sendmsg' and received by `recvmsg'.  */</span>
<a name="l00215"></a><a class="code" href="structmsghdr.html">00215</a> <span class="keyword">struct </span><a class="code" href="structmsghdr.html">msghdr</a>
00216   {
<a name="l00217"></a><a class="code" href="structmsghdr.html#o0">00217</a>     <span class="keywordtype">void</span> *<a class="code" href="structmsghdr.html#o0">msg_name</a>;     <span class="comment">/* Address to send to/receive from.  */</span>
<a name="l00218"></a><a class="code" href="structmsghdr.html#o1">00218</a>     <a class="code" href="bits_2socket_8h.html#a103">socklen_t</a> <a class="code" href="structmsghdr.html#o1">msg_namelen</a>;  <span class="comment">/* Length of address data.  */</span>
00219 
<a name="l00220"></a><a class="code" href="structmsghdr.html#o2">00220</a>     <span class="keyword">struct </span><a class="code" href="structiovec.html">iovec</a> *<a class="code" href="structmsghdr.html#o2">msg_iov</a>;  <span class="comment">/* Vector of data to send/receive into.  */</span>
<a name="l00221"></a><a class="code" href="structmsghdr.html#o3">00221</a>     <span class="keywordtype">int</span> <a class="code" href="structmsghdr.html#o3">msg_iovlen</a>;     <span class="comment">/* Number of elements in the vector.  */</span>
00222 
<a name="l00223"></a><a class="code" href="structmsghdr.html#o4">00223</a>     <span class="keywordtype">void</span> *<a class="code" href="structmsghdr.html#o4">msg_control</a>;      <span class="comment">/* Ancillary data (eg BSD filedesc passing). */</span>
<a name="l00224"></a><a class="code" href="structmsghdr.html#o5">00224</a>     <a class="code" href="bits_2socket_8h.html#a103">socklen_t</a> <a class="code" href="structmsghdr.html#o5">msg_controllen</a>;   <span class="comment">/* Ancillary data buffer length.  */</span>
00225 
<a name="l00226"></a><a class="code" href="structmsghdr.html#o6">00226</a>     <span class="keywordtype">int</span> <a class="code" href="structmsghdr.html#o6">msg_flags</a>;      <span class="comment">/* Flags on received message.  */</span>
00227   };
00228 
00229 <span class="comment">/* Structure used for storage of ancillary data object information.  */</span>
<a name="l00230"></a><a class="code" href="structcmsghdr.html">00230</a> <span class="keyword">struct </span><a class="code" href="structcmsghdr.html">cmsghdr</a>
00231   {
<a name="l00232"></a><a class="code" href="structcmsghdr.html#o0">00232</a>     size_t <a class="code" href="structcmsghdr.html#o0">cmsg_len</a>;        <span class="comment">/* Length of data in cmsg_data plus length</span>
00233 <span class="comment">                   of cmsghdr structure.  */</span>
<a name="l00234"></a><a class="code" href="structcmsghdr.html#o1">00234</a>     <span class="keywordtype">int</span> <a class="code" href="structcmsghdr.html#o1">cmsg_level</a>;     <span class="comment">/* Originating protocol.  */</span>
<a name="l00235"></a><a class="code" href="structcmsghdr.html#o2">00235</a>     <span class="keywordtype">int</span> <a class="code" href="structcmsghdr.html#o2">cmsg_type</a>;      <span class="comment">/* Protocol specific type.  */</span>
00236 <span class="preprocessor">#if (!defined __STRICT_ANSI__ &amp;&amp; __GNUC__ &gt;= 2) || __STDC_VERSION__ &gt;= 199901L</span>
00237 <span class="preprocessor"></span>    <a class="code" href="cdefs_8h.html#a25">__extension__</a> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> __cmsg_data <a class="code" href="cdefs_8h.html#a17">__flexarr</a>; <span class="comment">/* Ancillary data.  */</span>
00238 <span class="preprocessor">#endif</span>
00239 <span class="preprocessor"></span>  };
00240 
00241 <span class="comment">/* Ancillary data object manipulation macros.  */</span>
00242 <span class="preprocessor">#if (!defined __STRICT_ANSI__ &amp;&amp; __GNUC__ &gt;= 2) || __STDC_VERSION__ &gt;= 199901L</span>
00243 <span class="preprocessor"></span><span class="preprocessor"># define CMSG_DATA(cmsg) ((cmsg)-&gt;__cmsg_data)</span>
00244 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00245"></a><a class="code" href="bits_2socket_8h.html#a95">00245</a> <span class="preprocessor"></span><span class="preprocessor"># define CMSG_DATA(cmsg) ((unsigned char *) ((struct cmsghdr *) (cmsg) + 1))</span>
00246 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00247"></a><a class="code" href="bits_2socket_8h.html#a96">00247</a> <span class="preprocessor"></span><span class="preprocessor">#define CMSG_NXTHDR(mhdr, cmsg) __cmsg_nxthdr (mhdr, cmsg)</span>
<a name="l00248"></a><a class="code" href="bits_2socket_8h.html#a97">00248</a> <span class="preprocessor"></span><span class="preprocessor">#define CMSG_FIRSTHDR(mhdr) \</span>
00249 <span class="preprocessor">  ((size_t) (mhdr)-&gt;msg_controllen &gt;= sizeof (struct cmsghdr)             \</span>
00250 <span class="preprocessor">   ? (struct cmsghdr *) (mhdr)-&gt;msg_control : (struct cmsghdr *) NULL)</span>
<a name="l00251"></a><a class="code" href="bits_2socket_8h.html#a98">00251</a> <span class="preprocessor"></span><span class="preprocessor">#define CMSG_ALIGN(len) (((len) + sizeof (size_t) - 1) \</span>
00252 <span class="preprocessor">             &amp; (size_t) ~(sizeof (size_t) - 1))</span>
<a name="l00253"></a><a class="code" href="bits_2socket_8h.html#a99">00253</a> <span class="preprocessor"></span><span class="preprocessor">#define CMSG_SPACE(len) (CMSG_ALIGN (len) \</span>
00254 <span class="preprocessor">             + CMSG_ALIGN (sizeof (struct cmsghdr)))</span>
<a name="l00255"></a><a class="code" href="bits_2socket_8h.html#a100">00255</a> <span class="preprocessor"></span><span class="preprocessor">#define CMSG_LEN(len)   (CMSG_ALIGN (sizeof (struct cmsghdr)) + (len))</span>
00256 <span class="preprocessor"></span>
00257 <span class="keyword">extern</span> <span class="keyword">struct </span><a class="code" href="structcmsghdr.html">cmsghdr</a> *<a class="code" href="bits_2socket_8h.html#a129">__cmsg_nxthdr</a> (<span class="keyword">struct</span> <a class="code" href="structmsghdr.html">msghdr</a> *__mhdr,
00258                       <span class="keyword">struct</span> <a class="code" href="structcmsghdr.html">cmsghdr</a> *__cmsg) <a class="code" href="cdefs_8h.html#a2">__THROW</a>;
00259 <span class="preprocessor">#ifdef __USE_EXTERN_INLINES</span>
00260 <span class="preprocessor"></span><span class="preprocessor"># ifndef _EXTERN_INLINE</span>
00261 <span class="preprocessor"></span><span class="preprocessor">#  define _EXTERN_INLINE extern __inline</span>
00262 <span class="preprocessor"></span><span class="preprocessor"># endif</span>
00263 <span class="preprocessor"></span>_EXTERN_INLINE <span class="keyword">struct </span><a class="code" href="structcmsghdr.html">cmsghdr</a> *
00264 <a class="code" href="bits_2socket_8h.html#a129">__cmsg_nxthdr</a> (<span class="keyword">struct</span> <a class="code" href="structmsghdr.html">msghdr</a> *__mhdr, <span class="keyword">struct</span> <a class="code" href="structcmsghdr.html">cmsghdr</a> *__cmsg) <a class="code" href="cdefs_8h.html#a2">__THROW</a>
00265 {
00266   <span class="keywordflow">if</span> ((size_t) __cmsg-&gt;cmsg_len &lt; <span class="keyword">sizeof</span> (<span class="keyword">struct </span><a class="code" href="structcmsghdr.html">cmsghdr</a>))
00267     <span class="comment">/* The kernel header does this so there may be a reason.  */</span>
00268     return 0;
00269 
00270   __cmsg = (<span class="keyword">struct </span><a class="code" href="structcmsghdr.html">cmsghdr</a> *) ((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) __cmsg
00271                    + <a class="code" href="bits_2socket_8h.html#a98">CMSG_ALIGN</a> (__cmsg-&gt;cmsg_len));
00272   <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) (__cmsg + 1) &gt; ((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) __mhdr-&gt;msg_control
00273                     + __mhdr-&gt;msg_controllen)
00274       || ((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) __cmsg + <a class="code" href="bits_2socket_8h.html#a98">CMSG_ALIGN</a> (__cmsg-&gt;cmsg_len)
00275       &gt; ((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) __mhdr-&gt;msg_control + __mhdr-&gt;msg_controllen)))
00276     <span class="comment">/* No more entries.  */</span>
00277     <span class="keywordflow">return</span> 0;
00278   <span class="keywordflow">return</span> __cmsg;
00279 }
00280 <span class="preprocessor">#endif  </span><span class="comment">/* Use `extern inline'.  */</span>
00281 
00282 <span class="comment">/* Socket level message types.  This must match the definitions in</span>
00283 <span class="comment">   &lt;linux/socket.h&gt;.  */</span>
00284 <span class="keyword">enum</span>
00285   {
00286     <a class="code" href="bits_2socket_8h.html#a101">SCM_RIGHTS</a> = 0x01,      <span class="comment">/* Transfer file descriptors.  */</span>
00287 <span class="preprocessor">#define SCM_RIGHTS SCM_RIGHTS</span>
00288 <span class="preprocessor"></span><span class="preprocessor">#ifdef __USE_BSD</span>
00289 <span class="preprocessor"></span>    <a class="code" href="bits_2socket_8h.html#a102">SCM_CREDENTIALS</a> = 0x02,     <span class="comment">/* Credentials passing.  */</span>
00290 <span class="preprocessor"># define SCM_CREDENTIALS SCM_CREDENTIALS</span>
00291 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00292 <span class="preprocessor"></span>    <a class="code" href="bits_2socket_8h.html#a132a128">__SCM_CONNECT</a> = 0x03    <span class="comment">/* Data array is `struct scm_connect'.  */</span>
00293   };
00294 
00295 <span class="comment">/* User visible structure for SCM_CREDENTIALS message */</span>
00296 
<a name="l00297"></a><a class="code" href="structucred.html">00297</a> <span class="keyword">struct </span><a class="code" href="structucred.html">ucred</a>
00298 {
<a name="l00299"></a><a class="code" href="structucred.html#o0">00299</a>   <a class="code" href="sys_2types_8h.html#a28">pid_t</a> <a class="code" href="structucred.html#o0">pid</a>;            <span class="comment">/* PID of sending process.  */</span>
<a name="l00300"></a><a class="code" href="structucred.html#o1">00300</a>   <a class="code" href="sys_2types_8h.html#a26">uid_t</a> <a class="code" href="structucred.html#o1">uid</a>;            <span class="comment">/* UID of sending process.  */</span>
<a name="l00301"></a><a class="code" href="structucred.html#o2">00301</a>   <a class="code" href="sys_2types_8h.html#a23">gid_t</a> <a class="code" href="structucred.html#o2">gid</a>;            <span class="comment">/* GID of sending process.  */</span>
00302 };
00303 
00304 <span class="comment">/* Get socket manipulation related informations from kernel headers.  */</span>
00305 <span class="preprocessor">#include &lt;<a class="code" href="asm_2socket_8h.html">asm/socket.h</a>&gt;</span>
00306 
00307 
00308 <span class="comment">/* Structure used to manipulate the SO_LINGER option.  */</span>
<a name="l00309"></a><a class="code" href="structlinger.html">00309</a> <span class="keyword">struct </span><a class="code" href="structlinger.html">linger</a>
00310   {
<a name="l00311"></a><a class="code" href="structlinger.html#o0">00311</a>     <span class="keywordtype">int</span> <a class="code" href="structlinger.html#o0">l_onoff</a>;        <span class="comment">/* Nonzero to linger on close.  */</span>
<a name="l00312"></a><a class="code" href="structlinger.html#o1">00312</a>     <span class="keywordtype">int</span> <a class="code" href="structlinger.html#o1">l_linger</a>;       <span class="comment">/* Time to linger.  */</span>
00313   };
00314 
00315 <span class="preprocessor">#endif  </span><span class="comment">/* bits/socket.h */</span>
</pre></div>  </body>
</html>
