<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-
1">
<title>API documentation for Posix enviroment</title>
<style type="text/css">

BODY { background-color: #e0e0ff; }
H1 { text-align: center; }
CAPTION { font-weight: bold }
A { color: #000066; text-decoration: none; font-weight: bold; }
A.qindex {}
A.qindexRef {}
A.el { text-decoration: none; font-weight: bold }
A.elRef { font-weight: bold }
A.code { text-decoration: none; font-weight: normal; color: #4444ee }
A.codeRef { font-weight: normal; color: #4444ee }
A:hover { text-decoration: underline; background-color: #f2f2ff }
A:visited { color: #000066; }
DL.el { margin-left: -1cm }
DIV.fragment { width: 100%; border: none; background-color: #eeeeee }
DIV.ah { background-color: black; font-weight: bold; color: #ffffff; margin-bottom: 3px; margin-top: 3px }
TD.md { background-color: #f2f2ff; font-weight: bold; }
TD.mdname1 { background-color: #f2f2ff; font-weight: bold; color: #602020; }
TD.mdname { background-color: #f2f2ff; font-weight: bold; color: #602020; width: 600px; }
DIV.groupHeader { margin-left: 16px; margin-top: 12px; margin-bottom: 6px; font-weight: bold }
DIV.groupText { margin-left: 16px; font-style: italic; font-size: smaller }
TR, TD, TABLE { padding: 0 0 0 0; margin: 0 0 0 0; }
TD.indexkey { 
   background-color: #d0d0ff; 
   font-weight: bold; 
   padding-right  : 10px; 
   padding-top    : 2px; 
   padding-left   : 10px; 
   padding-bottom : 2px; 
   margin-left    : 0px; 
   margin-right   : 0px; 
   margin-top     : 0px; 
   margin-bottom  : 0px  
}
TD.indexvalue { 
   background-color: #d0d0ff; 
   font-style: italic; 
   padding-right  : 10px; 
   padding-top    : 2px; 
   padding-left   : 10px; 
   padding-bottom : 2px; 
   margin-left    : 0px; 
   margin-right   : 0px; 
   margin-top     : 0px; 
   margin-bottom  : 0px  
}
span.keyword       { color: #008000 }
span.keywordtype   { color: #604020 }
span.keywordflow   { color: #e08000 }
span.comment       { color: #800000 }
span.preprocessor  { color: #806020 }
span.stringliteral { color: #002080 }
span.charliteral   { color: #008080 }

BODY, TD { font-family: tahoma, verdana, arial, sansserif; font-size: 11px; }

</style>
</head><body>
<center><a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="annotated.html">Data Structures</a> &nbsp; <a class="qindex" href="functions.html">Data Structure Members List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="globals.html">Globals</a> &nbsp; </center>


<!-- Generated by Doxygen 1.3.5 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a></div>
<h1>string2.h</h1><a href="string2_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">/* Machine-independant string function optimizations.</span>
00002 <span class="comment">   Copyright (C) 1997,1998,1999,2000,2001,2002 Free Software Foundation, Inc.</span>
00003 <span class="comment">   This file is part of the GNU C Library.</span>
00004 <span class="comment">   Contributed by Ulrich Drepper &lt;drepper@cygnus.com&gt;, 1997.</span>
00005 <span class="comment"></span>
00006 <span class="comment">   The GNU C Library is free software; you can redistribute it and/or</span>
00007 <span class="comment">   modify it under the terms of the GNU Lesser General Public</span>
00008 <span class="comment">   License as published by the Free Software Foundation; either</span>
00009 <span class="comment">   version 2.1 of the License, or (at your option) any later version.</span>
00010 <span class="comment"></span>
00011 <span class="comment">   The GNU C Library is distributed in the hope that it will be useful,</span>
00012 <span class="comment">   but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
00013 <span class="comment">   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span>
00014 <span class="comment">   Lesser General Public License for more details.</span>
00015 <span class="comment"></span>
00016 <span class="comment">   You should have received a copy of the GNU Lesser General Public</span>
00017 <span class="comment">   License along with the GNU C Library; if not, write to the Free</span>
00018 <span class="comment">   Software Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA</span>
00019 <span class="comment">   02111-1307 USA.  */</span>
00020 
00021 <span class="preprocessor">#ifndef _STRING_H</span>
00022 <span class="preprocessor"></span><span class="preprocessor"># error "Never use &lt;bits/string2.h&gt; directly; include &lt;string.h&gt; instead."</span>
00023 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00024 <span class="preprocessor"></span>
00025 <span class="preprocessor">#if !defined __NO_STRING_INLINES &amp;&amp; !defined __BOUNDED_POINTERS__</span>
00026 <span class="preprocessor"></span>
00027 <span class="comment">/* Unlike the definitions in the header &lt;bits/string.h&gt; the</span>
00028 <span class="comment">   definitions contained here are not optimized down to assembler</span>
00029 <span class="comment">   level.  Those optimizations are not always a good idea since this</span>
00030 <span class="comment">   means the code size increases a lot.  Instead the definitions here</span>
00031 <span class="comment">   optimize some functions in a way which do not dramatically</span>
00032 <span class="comment">   increase the code size and which do not use assembler.  The main</span>
00033 <span class="comment">   trick is to use GNU CC's `__builtin_constant_p' function.</span>
00034 <span class="comment"></span>
00035 <span class="comment">   Every function XXX which has a defined version in</span>
00036 <span class="comment">   &lt;bits/string.h&gt; must be accompanied by a symbol _HAVE_STRING_ARCH_XXX</span>
00037 <span class="comment">   to make sure we don't get redefinitions.</span>
00038 <span class="comment"></span>
00039 <span class="comment">   We must use here macros instead of inline functions since the</span>
00040 <span class="comment">   trick won't work with the latter.  */</span>
00041 
00042 <span class="preprocessor">#ifndef __STRING_INLINE</span>
00043 <span class="preprocessor"></span><span class="preprocessor"># ifdef __cplusplus</span>
00044 <span class="preprocessor"></span><span class="preprocessor">#  define __STRING_INLINE inline</span>
00045 <span class="preprocessor"></span><span class="preprocessor"># else</span>
<a name="l00046"></a><a class="code" href="string2_8h.html#a0">00046</a> <span class="preprocessor"></span><span class="preprocessor">#  define __STRING_INLINE extern __inline</span>
00047 <span class="preprocessor"></span><span class="preprocessor"># endif</span>
00048 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00049 <span class="preprocessor"></span>
00050 <span class="preprocessor">#if _STRING_ARCH_unaligned</span>
00051 <span class="preprocessor"></span><span class="comment">/* If we can do unaligned memory accesses we must know the endianess.  */</span>
00052 <span class="preprocessor"># include &lt;endian.h&gt;</span>
00053 <span class="preprocessor"># include &lt;<a class="code" href="bits_2types_8h.html">bits/types.h</a>&gt;</span>
00054 
00055 <span class="preprocessor"># if __BYTE_ORDER == __LITTLE_ENDIAN</span>
00056 <span class="preprocessor"></span><span class="preprocessor">#  define __STRING2_SMALL_GET16(src, idx) \</span>
00057 <span class="preprocessor">     (((__const unsigned char *) (__const char *) (src))[idx + 1] &lt;&lt; 8        \</span>
00058 <span class="preprocessor">      | ((__const unsigned char *) (__const char *) (src))[idx])</span>
00059 <span class="preprocessor"></span><span class="preprocessor">#  define __STRING2_SMALL_GET32(src, idx) \</span>
00060 <span class="preprocessor">     (((((__const unsigned char *) (__const char *) (src))[idx + 3] &lt;&lt; 8      \</span>
00061 <span class="preprocessor">    | ((__const unsigned char *) (__const char *) (src))[idx + 2]) &lt;&lt; 8   \</span>
00062 <span class="preprocessor">       | ((__const unsigned char *) (__const char *) (src))[idx + 1]) &lt;&lt; 8    \</span>
00063 <span class="preprocessor">      | ((__const unsigned char *) (__const char *) (src))[idx])</span>
00064 <span class="preprocessor"></span><span class="preprocessor"># else</span>
00065 <span class="preprocessor"></span><span class="preprocessor">#  define __STRING2_SMALL_GET16(src, idx) \</span>
00066 <span class="preprocessor">     (((__const unsigned char *) (__const char *) (src))[idx] &lt;&lt; 8        \</span>
00067 <span class="preprocessor">      | ((__const unsigned char *) (__const char *) (src))[idx + 1])</span>
00068 <span class="preprocessor"></span><span class="preprocessor">#  define __STRING2_SMALL_GET32(src, idx) \</span>
00069 <span class="preprocessor">     (((((__const unsigned char *) (__const char *) (src))[idx] &lt;&lt; 8          \</span>
00070 <span class="preprocessor">    | ((__const unsigned char *) (__const char *) (src))[idx + 1]) &lt;&lt; 8   \</span>
00071 <span class="preprocessor">       | ((__const unsigned char *) (__const char *) (src))[idx + 2]) &lt;&lt; 8    \</span>
00072 <span class="preprocessor">      | ((__const unsigned char *) (__const char *) (src))[idx + 3])</span>
00073 <span class="preprocessor"></span><span class="preprocessor"># endif</span>
00074 <span class="preprocessor"></span><span class="preprocessor">#else</span>
00075 <span class="preprocessor"></span><span class="comment">/* These are a few types we need for the optimizations if we cannot</span>
00076 <span class="comment">   use unaligned memory accesses.  */</span>
<a name="l00077"></a><a class="code" href="string2_8h.html#a1">00077</a> <span class="preprocessor"># define __STRING2_COPY_TYPE(N) \</span>
00078 <span class="preprocessor">  typedef struct { unsigned char __arr[N]; }                      \</span>
00079 <span class="preprocessor">    __STRING2_COPY_ARR##N __attribute__ ((packed))</span>
00080 <span class="preprocessor"></span><a class="code" href="string2_8h.html#a1">__STRING2_COPY_TYPE</a> (2);
00081 <a class="code" href="string2_8h.html#a1">__STRING2_COPY_TYPE</a> (3);
00082 <a class="code" href="string2_8h.html#a1">__STRING2_COPY_TYPE</a> (4);
00083 <a class="code" href="string2_8h.html#a1">__STRING2_COPY_TYPE</a> (5);
00084 <a class="code" href="string2_8h.html#a1">__STRING2_COPY_TYPE</a> (6);
00085 <a class="code" href="string2_8h.html#a1">__STRING2_COPY_TYPE</a> (7);
00086 <a class="code" href="string2_8h.html#a1">__STRING2_COPY_TYPE</a> (8);
00087 <span class="preprocessor"># undef __STRING2_COPY_TYPE</span>
00088 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00089 <span class="preprocessor"></span>
00090 <span class="comment">/* Dereferencing a pointer arg to run sizeof on it fails for the void</span>
00091 <span class="comment">   pointer case, so we use this instead.</span>
00092 <span class="comment">   Note that __x is evaluated twice. */</span>
<a name="l00093"></a><a class="code" href="string2_8h.html#a2">00093</a> <span class="preprocessor">#define __string2_1bptr_p(__x) \</span>
00094 <span class="preprocessor">  ((size_t)(const void *)((__x) + 1) - (size_t)(const void *)(__x) == 1)</span>
00095 <span class="preprocessor"></span>
00096 <span class="comment">/* Set N bytes of S to C.  */</span>
00097 <span class="preprocessor">#ifndef _HAVE_STRING_ARCH_memset</span>
00098 <span class="preprocessor"></span><span class="preprocessor"># if _STRING_ARCH_unaligned</span>
00099 <span class="preprocessor"></span><span class="preprocessor">#  define memset(s, c, n) \</span>
00100 <span class="preprocessor">  (__extension__ (__builtin_constant_p (n) &amp;&amp; (n) &lt;= 16               \</span>
00101 <span class="preprocessor">          ? ((n) == 1                             \</span>
00102 <span class="preprocessor">             ? __memset_1 (s, c)                      \</span>
00103 <span class="preprocessor">             : __memset_gc (s, c, n))                     \</span>
00104 <span class="preprocessor">          : (__builtin_constant_p (c) &amp;&amp; (c) == '\0'              \</span>
00105 <span class="preprocessor">             ? ({ void *__s = (s); __bzero (__s, n); __s; })          \</span>
00106 <span class="preprocessor">             : memset (s, c, n))))</span>
00107 <span class="preprocessor"></span>
00108 <span class="preprocessor">#  define __memset_1(s, c) ({ void *__s = (s);                    \</span>
00109 <span class="preprocessor">                *((__uint8_t *) __s) = (__uint8_t) c; __s; })</span>
00110 <span class="preprocessor"></span>
00111 <span class="preprocessor">#  define __memset_gc(s, c, n) \</span>
00112 <span class="preprocessor">  ({ void *__s = (s);                                 \</span>
00113 <span class="preprocessor">     union {                                      \</span>
00114 <span class="preprocessor">       unsigned int __ui;                             \</span>
00115 <span class="preprocessor">       unsigned short int __usi;                          \</span>
00116 <span class="preprocessor">       unsigned char __uc;                            \</span>
00117 <span class="preprocessor">     } *__u = __s;                                \</span>
00118 <span class="preprocessor">     __uint8_t __c = (__uint8_t) (c);                         \</span>
00119 <span class="preprocessor">                                          \</span>
00120 <span class="preprocessor">     </span><span class="comment">/* This `switch' statement will be removed at compile-time.  */</span>          \
00121      switch ((unsigned int) (n))                          \
00122        {                                      \
00123        case 15:                                   \
00124      __u-&gt;__ui = __c * 0x01010101;                        \
00125      __u = __extension__ ((void *) __u + 4);                  \
00126        case 11:                                   \
00127      __u-&gt;__ui = __c * 0x01010101;                        \
00128      __u = __extension__ ((void *) __u + 4);                  \
00129        case 7:                                    \
00130      __u-&gt;__ui = __c * 0x01010101;                        \
00131      __u = __extension__ ((void *) __u + 4);                  \
00132        case 3:                                    \
00133      __u-&gt;__usi = (unsigned short int) __c * 0x0101;              \
00134      __u = __extension__ ((void *) __u + 2);                  \
00135      __u-&gt;__uc = (unsigned char) __c;                     \
00136      break;                                   \
00137                                           \
00138        case 14:                                   \
00139      __u-&gt;__ui = __c * 0x01010101;                        \
00140      __u = __extension__ ((void *) __u + 4);                  \
00141        case 10:                                   \
00142      __u-&gt;__ui = __c * 0x01010101;                        \
00143      __u = __extension__ ((void *) __u + 4);                  \
00144        case 6:                                    \
00145      __u-&gt;__ui = __c * 0x01010101;                        \
00146      __u = __extension__ ((void *) __u + 4);                  \
00147        case 2:                                    \
00148      __u-&gt;__usi = (unsigned short int) __c * 0x0101;              \
00149      break;                                   \
00150                                           \
00151        case 13:                                   \
00152      __u-&gt;__ui = __c * 0x01010101;                        \
00153      __u = __extension__ ((void *) __u + 4);                  \
00154        case 9:                                    \
00155      __u-&gt;__ui = __c * 0x01010101;                        \
00156      __u = __extension__ ((void *) __u + 4);                  \
00157        case 5:                                    \
00158      __u-&gt;__ui = __c * 0x01010101;                        \
00159      __u = __extension__ ((void *) __u + 4);                  \
00160        case 1:                                    \
00161      __u-&gt;__uc = (unsigned char) __c;                     \
00162      break;                                   \
00163                                           \
00164        case 16:                                   \
00165      __u-&gt;__ui = __c * 0x01010101;                        \
00166      __u = __extension__ ((void *) __u + 4);                  \
00167        case 12:                                   \
00168      __u-&gt;__ui = __c * 0x01010101;                        \
00169      __u = __extension__ ((void *) __u + 4);                  \
00170        case 8:                                    \
00171      __u-&gt;__ui = __c * 0x01010101;                        \
00172      __u = __extension__ ((void *) __u + 4);                  \
00173        case 4:                                    \
00174      __u-&gt;__ui = __c * 0x01010101;                        \
00175        case 0:                                    \
00176      break;                                   \
00177        }                                      \
00178                                           \
00179      __s; })
00180 <span class="preprocessor"># else</span>
<a name="l00181"></a><a class="code" href="string2_8h.html#a3">00181</a> <span class="preprocessor"></span><span class="preprocessor">#  define memset(s, c, n) \</span>
00182 <span class="preprocessor">  (__extension__ (__builtin_constant_p (c) &amp;&amp; (c) == '\0'             \</span>
00183 <span class="preprocessor">          ? ({ void *__s = (s); __bzero (__s, n); __s; })         \</span>
00184 <span class="preprocessor">          : memset (s, c, n)))</span>
00185 <span class="preprocessor"></span><span class="preprocessor"># endif</span>
00186 <span class="preprocessor"></span>
00187 <span class="comment">/* GCC optimizes memset(s, 0, n) but not bzero(s, n).</span>
00188 <span class="comment">   The optimization is broken before EGCS 1.1.  */</span>
00189 <span class="preprocessor"># if __GNUC_PREREQ (2, 91)</span>
00190 <span class="preprocessor"></span><span class="preprocessor">#  define __bzero(s, n) __builtin_memset (s, '\0', n)</span>
00191 <span class="preprocessor"></span><span class="preprocessor"># endif</span>
00192 <span class="preprocessor"></span>
00193 <span class="preprocessor">#endif</span>
00194 <span class="preprocessor"></span>
00195 
00196 <span class="comment">/* Copy N bytes from SRC to DEST, returning pointer to byte following the</span>
00197 <span class="comment">   last copied.  */</span>
00198 <span class="preprocessor">#ifdef __USE_GNU</span>
00199 <span class="preprocessor"></span><span class="preprocessor"># if !defined _HAVE_STRING_ARCH_mempcpy || defined _FORCE_INLINES</span>
00200 <span class="preprocessor"></span><span class="preprocessor">#  ifndef _HAVE_STRING_ARCH_mempcpy</span>
00201 <span class="preprocessor"></span><span class="preprocessor">#   if __GNUC_PREREQ (3, 0)</span>
00202 <span class="preprocessor"></span><span class="preprocessor">#    define __mempcpy(dest, src, n) \</span>
00203 <span class="preprocessor">  (__extension__ (__builtin_constant_p (src) &amp;&amp; __builtin_constant_p (n)      \</span>
00204 <span class="preprocessor">          &amp;&amp; __string2_1bptr_p (src) &amp;&amp; n &lt;= 8                \</span>
00205 <span class="preprocessor">          ? __builtin_memcpy (dest, src, n) + (n)             \</span>
00206 <span class="preprocessor">          : __mempcpy (dest, src, n)))</span>
00207 <span class="preprocessor"></span><span class="preprocessor">#   else</span>
00208 <span class="preprocessor"></span><span class="preprocessor">#    define __mempcpy(dest, src, n) \</span>
00209 <span class="preprocessor">  (__extension__ (__builtin_constant_p (src) &amp;&amp; __builtin_constant_p (n)      \</span>
00210 <span class="preprocessor">          &amp;&amp; __string2_1bptr_p (src) &amp;&amp; n &lt;= 8                \</span>
00211 <span class="preprocessor">          ? __mempcpy_small (dest, __mempcpy_args (src), n)       \</span>
00212 <span class="preprocessor">          : __mempcpy (dest, src, n)))</span>
00213 <span class="preprocessor"></span><span class="preprocessor">#   endif</span>
00214 <span class="preprocessor"></span><span class="comment">/* In glibc we use this function frequently but for namespace reasons</span>
00215 <span class="comment">   we have to use the name `__mempcpy'.  */</span>
00216 <span class="preprocessor">#   define mempcpy(dest, src, n) __mempcpy (dest, src, n)</span>
00217 <span class="preprocessor"></span><span class="preprocessor">#  endif</span>
00218 <span class="preprocessor"></span>
00219 <span class="preprocessor">#  if !__GNUC_PREREQ (3, 0) || defined _FORCE_INLINES</span>
00220 <span class="preprocessor"></span><span class="preprocessor">#   if _STRING_ARCH_unaligned</span>
00221 <span class="preprocessor"></span><span class="preprocessor">#    ifndef _FORCE_INLINES</span>
00222 <span class="preprocessor"></span><span class="preprocessor">#     define __mempcpy_args(src) \</span>
00223 <span class="preprocessor">     ((__const char *) (src))[0], ((__const char *) (src))[2],            \</span>
00224 <span class="preprocessor">     ((__const char *) (src))[4], ((__const char *) (src))[6],            \</span>
00225 <span class="preprocessor">     __extension__ __STRING2_SMALL_GET16 (src, 0),                \</span>
00226 <span class="preprocessor">     __extension__ __STRING2_SMALL_GET16 (src, 4),                \</span>
00227 <span class="preprocessor">     __extension__ __STRING2_SMALL_GET32 (src, 0),                \</span>
00228 <span class="preprocessor">     __extension__ __STRING2_SMALL_GET32 (src, 4)</span>
00229 <span class="preprocessor"></span><span class="preprocessor">#    endif</span>
00230 <span class="preprocessor"></span><a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> <span class="keywordtype">void</span> *__mempcpy_small (<span class="keywordtype">void</span> *, <span class="keywordtype">char</span>, <span class="keywordtype">char</span>, <span class="keywordtype">char</span>, <span class="keywordtype">char</span>,
00231                        <a class="code" href="bits_2types_8h.html#a10">__uint16_t</a>, <a class="code" href="bits_2types_8h.html#a10">__uint16_t</a>, <a class="code" href="bits_2types_8h.html#a12">__uint32_t</a>,
00232                        <a class="code" href="bits_2types_8h.html#a12">__uint32_t</a>, size_t);
00233 <a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> <span class="keywordtype">void</span> *
00234 __mempcpy_small (<span class="keywordtype">void</span> *__dest1,
00235          <span class="keywordtype">char</span> __src0_1, <span class="keywordtype">char</span> __src2_1, <span class="keywordtype">char</span> __src4_1, <span class="keywordtype">char</span> __src6_1,
00236          <a class="code" href="bits_2types_8h.html#a10">__uint16_t</a> __src0_2, <a class="code" href="bits_2types_8h.html#a10">__uint16_t</a> __src4_2,
00237          <a class="code" href="bits_2types_8h.html#a12">__uint32_t</a> __src0_4, <a class="code" href="bits_2types_8h.html#a12">__uint32_t</a> __src4_4,
00238          size_t __srclen)
00239 {
00240   <span class="keyword">union </span>{
00241     <a class="code" href="bits_2types_8h.html#a12">__uint32_t</a> __ui;
00242     <a class="code" href="bits_2types_8h.html#a10">__uint16_t</a> __usi;
00243     <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> __uc;
00244     <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> __c;
00245   } *__u = __dest1;
00246   <span class="keywordflow">switch</span> ((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>) __srclen)
00247     {
00248     <span class="keywordflow">case</span> 1:
00249       __u-&gt;__c = __src0_1;
00250       __u = <a class="code" href="cdefs_8h.html#a25">__extension__</a> ((<span class="keywordtype">void</span> *) __u + 1);
00251       <span class="keywordflow">break</span>;
00252     <span class="keywordflow">case</span> 2:
00253       __u-&gt;__usi = __src0_2;
00254       __u = <a class="code" href="cdefs_8h.html#a25">__extension__</a> ((<span class="keywordtype">void</span> *) __u + 2);
00255       <span class="keywordflow">break</span>;
00256     <span class="keywordflow">case</span> 3:
00257       __u-&gt;__usi = __src0_2;
00258       __u = <a class="code" href="cdefs_8h.html#a25">__extension__</a> ((<span class="keywordtype">void</span> *) __u + 2);
00259       __u-&gt;__c = __src2_1;
00260       __u = <a class="code" href="cdefs_8h.html#a25">__extension__</a> ((<span class="keywordtype">void</span> *) __u + 1);
00261       <span class="keywordflow">break</span>;
00262     <span class="keywordflow">case</span> 4:
00263       __u-&gt;__ui = __src0_4;
00264       __u = <a class="code" href="cdefs_8h.html#a25">__extension__</a> ((<span class="keywordtype">void</span> *) __u + 4);
00265       <span class="keywordflow">break</span>;
00266     <span class="keywordflow">case</span> 5:
00267       __u-&gt;__ui = __src0_4;
00268       __u = <a class="code" href="cdefs_8h.html#a25">__extension__</a> ((<span class="keywordtype">void</span> *) __u + 4);
00269       __u-&gt;__c = __src4_1;
00270       __u = <a class="code" href="cdefs_8h.html#a25">__extension__</a> ((<span class="keywordtype">void</span> *) __u + 1);
00271       <span class="keywordflow">break</span>;
00272     <span class="keywordflow">case</span> 6:
00273       __u-&gt;__ui = __src0_4;
00274       __u = <a class="code" href="cdefs_8h.html#a25">__extension__</a> ((<span class="keywordtype">void</span> *) __u + 4);
00275       __u-&gt;__usi = __src4_2;
00276       __u = <a class="code" href="cdefs_8h.html#a25">__extension__</a> ((<span class="keywordtype">void</span> *) __u + 2);
00277       <span class="keywordflow">break</span>;
00278     <span class="keywordflow">case</span> 7:
00279       __u-&gt;__ui = __src0_4;
00280       __u = <a class="code" href="cdefs_8h.html#a25">__extension__</a> ((<span class="keywordtype">void</span> *) __u + 4);
00281       __u-&gt;__usi = __src4_2;
00282       __u = <a class="code" href="cdefs_8h.html#a25">__extension__</a> ((<span class="keywordtype">void</span> *) __u + 2);
00283       __u-&gt;__c = __src6_1;
00284       __u = <a class="code" href="cdefs_8h.html#a25">__extension__</a> ((<span class="keywordtype">void</span> *) __u + 1);
00285       <span class="keywordflow">break</span>;
00286     <span class="keywordflow">case</span> 8:
00287       __u-&gt;__ui = __src0_4;
00288       __u = <a class="code" href="cdefs_8h.html#a25">__extension__</a> ((<span class="keywordtype">void</span> *) __u + 4);
00289       __u-&gt;__ui = __src4_4;
00290       __u = <a class="code" href="cdefs_8h.html#a25">__extension__</a> ((<span class="keywordtype">void</span> *) __u + 4);
00291       <span class="keywordflow">break</span>;
00292     }
00293   <span class="keywordflow">return</span> (<span class="keywordtype">void</span> *) __u;
00294 }
00295 <span class="preprocessor">#   else</span>
00296 <span class="preprocessor"></span><span class="preprocessor">#    ifndef _FORCE_INLINES</span>
00297 <span class="preprocessor"></span><span class="preprocessor">#     define __mempcpy_args(src) \</span>
00298 <span class="preprocessor">     ((__const char *) (src))[0],                         \</span>
00299 <span class="preprocessor">     __extension__ ((__STRING2_COPY_ARR2)                     \</span>
00300 <span class="preprocessor">      { { ((__const char *) (src))[0], ((__const char *) (src))[1] } }),      \</span>
00301 <span class="preprocessor">     __extension__ ((__STRING2_COPY_ARR3)                     \</span>
00302 <span class="preprocessor">      { { ((__const char *) (src))[0], ((__const char *) (src))[1],       \</span>
00303 <span class="preprocessor">      ((__const char *) (src))[2] } }),                   \</span>
00304 <span class="preprocessor">     __extension__ ((__STRING2_COPY_ARR4)                     \</span>
00305 <span class="preprocessor">      { { ((__const char *) (src))[0], ((__const char *) (src))[1],       \</span>
00306 <span class="preprocessor">      ((__const char *) (src))[2], ((__const char *) (src))[3] } }),      \</span>
00307 <span class="preprocessor">     __extension__ ((__STRING2_COPY_ARR5)                     \</span>
00308 <span class="preprocessor">      { { ((__const char *) (src))[0], ((__const char *) (src))[1],       \</span>
00309 <span class="preprocessor">      ((__const char *) (src))[2], ((__const char *) (src))[3],       \</span>
00310 <span class="preprocessor">      ((__const char *) (src))[4] } }),                   \</span>
00311 <span class="preprocessor">     __extension__ ((__STRING2_COPY_ARR6)                     \</span>
00312 <span class="preprocessor">      { { ((__const char *) (src))[0], ((__const char *) (src))[1],       \</span>
00313 <span class="preprocessor">      ((__const char *) (src))[2], ((__const char *) (src))[3],       \</span>
00314 <span class="preprocessor">      ((__const char *) (src))[4], ((__const char *) (src))[5] } }),      \</span>
00315 <span class="preprocessor">     __extension__ ((__STRING2_COPY_ARR7)                     \</span>
00316 <span class="preprocessor">      { { ((__const char *) (src))[0], ((__const char *) (src))[1],       \</span>
00317 <span class="preprocessor">      ((__const char *) (src))[2], ((__const char *) (src))[3],       \</span>
00318 <span class="preprocessor">      ((__const char *) (src))[4], ((__const char *) (src))[5],       \</span>
00319 <span class="preprocessor">      ((__const char *) (src))[6] } }),                   \</span>
00320 <span class="preprocessor">     __extension__ ((__STRING2_COPY_ARR8)                     \</span>
00321 <span class="preprocessor">      { { ((__const char *) (src))[0], ((__const char *) (src))[1],       \</span>
00322 <span class="preprocessor">      ((__const char *) (src))[2], ((__const char *) (src))[3],       \</span>
00323 <span class="preprocessor">      ((__const char *) (src))[4], ((__const char *) (src))[5],       \</span>
00324 <span class="preprocessor">      ((__const char *) (src))[6], ((__const char *) (src))[7] } })</span>
00325 <span class="preprocessor"></span><span class="preprocessor">#    endif</span>
00326 <span class="preprocessor"></span><a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> <span class="keywordtype">void</span> *__mempcpy_small (<span class="keywordtype">void</span> *, <span class="keywordtype">char</span>, __STRING2_COPY_ARR2,
00327                        __STRING2_COPY_ARR3,
00328                        __STRING2_COPY_ARR4,
00329                        __STRING2_COPY_ARR5,
00330                        __STRING2_COPY_ARR6,
00331                        __STRING2_COPY_ARR7,
00332                        __STRING2_COPY_ARR8, size_t);
00333 <a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> <span class="keywordtype">void</span> *
00334 __mempcpy_small (<span class="keywordtype">void</span> *__dest, <span class="keywordtype">char</span> __src1,
00335          __STRING2_COPY_ARR2 __src2, __STRING2_COPY_ARR3 __src3,
00336          __STRING2_COPY_ARR4 __src4, __STRING2_COPY_ARR5 __src5,
00337          __STRING2_COPY_ARR6 __src6, __STRING2_COPY_ARR7 __src7,
00338          __STRING2_COPY_ARR8 __src8, size_t __srclen)
00339 {
00340   <span class="keyword">union </span>{
00341     <span class="keywordtype">char</span> __c;
00342     __STRING2_COPY_ARR2 __sca2;
00343     __STRING2_COPY_ARR3 __sca3;
00344     __STRING2_COPY_ARR4 __sca4;
00345     __STRING2_COPY_ARR5 __sca5;
00346     __STRING2_COPY_ARR6 __sca6;
00347     __STRING2_COPY_ARR7 __sca7;
00348     __STRING2_COPY_ARR8 __sca8;
00349   } *__u = __dest;
00350   <span class="keywordflow">switch</span> ((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>) __srclen)
00351     {
00352     <span class="keywordflow">case</span> 1:
00353       __u-&gt;__c = __src1;
00354       <span class="keywordflow">break</span>;
00355     <span class="keywordflow">case</span> 2:
00356       <a class="code" href="cdefs_8h.html#a25">__extension__</a> __u-&gt;__sca2 = __src2;
00357       <span class="keywordflow">break</span>;
00358     <span class="keywordflow">case</span> 3:
00359       <a class="code" href="cdefs_8h.html#a25">__extension__</a> __u-&gt;__sca3 = __src3;
00360       <span class="keywordflow">break</span>;
00361     <span class="keywordflow">case</span> 4:
00362       <a class="code" href="cdefs_8h.html#a25">__extension__</a> __u-&gt;__sca4 = __src4;
00363       <span class="keywordflow">break</span>;
00364     <span class="keywordflow">case</span> 5:
00365       <a class="code" href="cdefs_8h.html#a25">__extension__</a> __u-&gt;__sca5 = __src5;
00366       <span class="keywordflow">break</span>;
00367     <span class="keywordflow">case</span> 6:
00368       <a class="code" href="cdefs_8h.html#a25">__extension__</a> __u-&gt;__sca6 = __src6;
00369       <span class="keywordflow">break</span>;
00370     <span class="keywordflow">case</span> 7:
00371       <a class="code" href="cdefs_8h.html#a25">__extension__</a> __u-&gt;__sca7 = __src7;
00372       <span class="keywordflow">break</span>;
00373     <span class="keywordflow">case</span> 8:
00374       <a class="code" href="cdefs_8h.html#a25">__extension__</a> __u-&gt;__sca8 = __src8;
00375       <span class="keywordflow">break</span>;
00376     }
00377   <span class="keywordflow">return</span> <a class="code" href="cdefs_8h.html#a25">__extension__</a> ((<span class="keywordtype">void</span> *) __u + __srclen);
00378 }
00379 <span class="preprocessor">#   endif</span>
00380 <span class="preprocessor"></span><span class="preprocessor">#  endif</span>
00381 <span class="preprocessor"></span><span class="preprocessor"># endif</span>
00382 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00383 <span class="preprocessor"></span>
00384 
00385 <span class="comment">/* Return pointer to C in S.  */</span>
00386 <span class="preprocessor">#ifndef _HAVE_STRING_ARCH_strchr</span>
00387 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="keywordtype">void</span> *<a class="code" href="string2_8h.html#a27">__rawmemchr</a> (<span class="keyword">const</span> <span class="keywordtype">void</span> *__s, <span class="keywordtype">int</span> __c);
<a name="l00388"></a><a class="code" href="string2_8h.html#a4">00388</a> <span class="preprocessor"># define strchr(s, c) \</span>
00389 <span class="preprocessor">  (__extension__ (__builtin_constant_p (c) &amp;&amp; (c) == '\0'             \</span>
00390 <span class="preprocessor">          ? (char *) __rawmemchr (s, c)                   \</span>
00391 <span class="preprocessor">          : strchr (s, c)))</span>
00392 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00393 <span class="preprocessor"></span>
00394 
00395 <span class="comment">/* Copy SRC to DEST.  */</span>
00396 <span class="preprocessor">#if (!defined _HAVE_STRING_ARCH_strcpy &amp;&amp; !__GNUC_PREREQ (3, 0)) \</span>
00397 <span class="preprocessor">    || defined _FORCE_INLINES</span>
00398 <span class="preprocessor"></span><span class="preprocessor"># if !defined _HAVE_STRING_ARCH_strcpy &amp;&amp; !__GNUC_PREREQ (3, 0)</span>
<a name="l00399"></a><a class="code" href="string2_8h.html#a5">00399</a> <span class="preprocessor"></span><span class="preprocessor">#  define strcpy(dest, src) \</span>
00400 <span class="preprocessor">  (__extension__ (__builtin_constant_p (src)                      \</span>
00401 <span class="preprocessor">          ? (__string2_1bptr_p (src) &amp;&amp; strlen (src) + 1 &lt;= 8         \</span>
00402 <span class="preprocessor">             ? __strcpy_small (dest, __strcpy_args (src),         \</span>
00403 <span class="preprocessor">                       strlen (src) + 1)              \</span>
00404 <span class="preprocessor">             : (char *) memcpy (dest, src, strlen (src) + 1))         \</span>
00405 <span class="preprocessor">          : strcpy (dest, src)))</span>
00406 <span class="preprocessor"></span><span class="preprocessor"># endif</span>
00407 <span class="preprocessor"></span>
00408 <span class="preprocessor"># if _STRING_ARCH_unaligned</span>
00409 <span class="preprocessor"></span><span class="preprocessor">#  ifndef _FORCE_INLINES</span>
00410 <span class="preprocessor"></span><span class="preprocessor">#   define __strcpy_args(src) \</span>
00411 <span class="preprocessor">     __extension__ __STRING2_SMALL_GET16 (src, 0),                \</span>
00412 <span class="preprocessor">     __extension__ __STRING2_SMALL_GET16 (src, 4),                \</span>
00413 <span class="preprocessor">     __extension__ __STRING2_SMALL_GET32 (src, 0),                \</span>
00414 <span class="preprocessor">     __extension__ __STRING2_SMALL_GET32 (src, 4)</span>
00415 <span class="preprocessor"></span><span class="preprocessor">#  endif</span>
00416 <span class="preprocessor"></span><a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> <span class="keywordtype">char</span> *<a class="code" href="string2_8h.html#a28">__strcpy_small</a> (<span class="keywordtype">char</span> *, <a class="code" href="bits_2types_8h.html#a10">__uint16_t</a>, <a class="code" href="bits_2types_8h.html#a10">__uint16_t</a>,
00417                       <a class="code" href="bits_2types_8h.html#a12">__uint32_t</a>, <a class="code" href="bits_2types_8h.html#a12">__uint32_t</a>, size_t);
00418 <a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> <span class="keywordtype">char</span> *
00419 <a class="code" href="string2_8h.html#a28">__strcpy_small</a> (<span class="keywordtype">char</span> *__dest,
00420         <a class="code" href="bits_2types_8h.html#a10">__uint16_t</a> __src0_2, <a class="code" href="bits_2types_8h.html#a10">__uint16_t</a> __src4_2,
00421         <a class="code" href="bits_2types_8h.html#a12">__uint32_t</a> __src0_4, <a class="code" href="bits_2types_8h.html#a12">__uint32_t</a> __src4_4,
00422         size_t __srclen)
00423 {
00424   <span class="keyword">union </span>{
00425     <a class="code" href="bits_2types_8h.html#a12">__uint32_t</a> __ui;
00426     <a class="code" href="bits_2types_8h.html#a10">__uint16_t</a> __usi;
00427     <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> __uc;
00428   } *__u = (<span class="keywordtype">void</span> *) __dest;
00429   <span class="keywordflow">switch</span> ((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>) __srclen)
00430     {
00431     <span class="keywordflow">case</span> 1:
00432       __u-&gt;__uc = <span class="charliteral">'\0'</span>;
00433       <span class="keywordflow">break</span>;
00434     <span class="keywordflow">case</span> 2:
00435       __u-&gt;__usi = __src0_2;
00436       <span class="keywordflow">break</span>;
00437     <span class="keywordflow">case</span> 3:
00438       __u-&gt;__usi = __src0_2;
00439       __u = <a class="code" href="cdefs_8h.html#a25">__extension__</a> ((<span class="keywordtype">void</span> *) __u + 2);
00440       __u-&gt;__uc = <span class="charliteral">'\0'</span>;
00441       <span class="keywordflow">break</span>;
00442     <span class="keywordflow">case</span> 4:
00443       __u-&gt;__ui = __src0_4;
00444       <span class="keywordflow">break</span>;
00445     <span class="keywordflow">case</span> 5:
00446       __u-&gt;__ui = __src0_4;
00447       __u = <a class="code" href="cdefs_8h.html#a25">__extension__</a> ((<span class="keywordtype">void</span> *) __u + 4);
00448       __u-&gt;__uc = <span class="charliteral">'\0'</span>;
00449       <span class="keywordflow">break</span>;
00450     <span class="keywordflow">case</span> 6:
00451       __u-&gt;__ui = __src0_4;
00452       __u = <a class="code" href="cdefs_8h.html#a25">__extension__</a> ((<span class="keywordtype">void</span> *) __u + 4);
00453       __u-&gt;__usi = __src4_2;
00454       <span class="keywordflow">break</span>;
00455     <span class="keywordflow">case</span> 7:
00456       __u-&gt;__ui = __src0_4;
00457       __u = <a class="code" href="cdefs_8h.html#a25">__extension__</a> ((<span class="keywordtype">void</span> *) __u + 4);
00458       __u-&gt;__usi = __src4_2;
00459       __u = <a class="code" href="cdefs_8h.html#a25">__extension__</a> ((<span class="keywordtype">void</span> *) __u + 2);
00460       __u-&gt;__uc = <span class="charliteral">'\0'</span>;
00461       <span class="keywordflow">break</span>;
00462     <span class="keywordflow">case</span> 8:
00463       __u-&gt;__ui = __src0_4;
00464       __u = <a class="code" href="cdefs_8h.html#a25">__extension__</a> ((<span class="keywordtype">void</span> *) __u + 4);
00465       __u-&gt;__ui = __src4_4;
00466       <span class="keywordflow">break</span>;
00467     }
00468   <span class="keywordflow">return</span> __dest;
00469 }
00470 <span class="preprocessor"># else</span>
00471 <span class="preprocessor"></span><span class="preprocessor">#  ifndef _FORCE_INLINES</span>
<a name="l00472"></a><a class="code" href="string2_8h.html#a6">00472</a> <span class="preprocessor"></span><span class="preprocessor">#   define __strcpy_args(src) \</span>
00473 <span class="preprocessor">     __extension__ ((__STRING2_COPY_ARR2)                     \</span>
00474 <span class="preprocessor">      { { ((__const char *) (src))[0], '\0' } }),                 \</span>
00475 <span class="preprocessor">     __extension__ ((__STRING2_COPY_ARR3)                     \</span>
00476 <span class="preprocessor">      { { ((__const char *) (src))[0], ((__const char *) (src))[1],       \</span>
00477 <span class="preprocessor">      '\0' } }),                                  \</span>
00478 <span class="preprocessor">     __extension__ ((__STRING2_COPY_ARR4)                     \</span>
00479 <span class="preprocessor">      { { ((__const char *) (src))[0], ((__const char *) (src))[1],       \</span>
00480 <span class="preprocessor">      ((__const char *) (src))[2], '\0' } }),                 \</span>
00481 <span class="preprocessor">     __extension__ ((__STRING2_COPY_ARR5)                     \</span>
00482 <span class="preprocessor">      { { ((__const char *) (src))[0], ((__const char *) (src))[1],       \</span>
00483 <span class="preprocessor">      ((__const char *) (src))[2], ((__const char *) (src))[3],       \</span>
00484 <span class="preprocessor">      '\0' } }),                                  \</span>
00485 <span class="preprocessor">     __extension__ ((__STRING2_COPY_ARR6)                     \</span>
00486 <span class="preprocessor">      { { ((__const char *) (src))[0], ((__const char *) (src))[1],       \</span>
00487 <span class="preprocessor">      ((__const char *) (src))[2], ((__const char *) (src))[3],       \</span>
00488 <span class="preprocessor">      ((__const char *) (src))[4], '\0' } }),                 \</span>
00489 <span class="preprocessor">     __extension__ ((__STRING2_COPY_ARR7)                     \</span>
00490 <span class="preprocessor">      { { ((__const char *) (src))[0], ((__const char *) (src))[1],       \</span>
00491 <span class="preprocessor">      ((__const char *) (src))[2], ((__const char *) (src))[3],       \</span>
00492 <span class="preprocessor">      ((__const char *) (src))[4], ((__const char *) (src))[5],       \</span>
00493 <span class="preprocessor">      '\0' } }),                                  \</span>
00494 <span class="preprocessor">     __extension__ ((__STRING2_COPY_ARR8)                     \</span>
00495 <span class="preprocessor">      { { ((__const char *) (src))[0], ((__const char *) (src))[1],       \</span>
00496 <span class="preprocessor">      ((__const char *) (src))[2], ((__const char *) (src))[3],       \</span>
00497 <span class="preprocessor">      ((__const char *) (src))[4], ((__const char *) (src))[5],       \</span>
00498 <span class="preprocessor">      ((__const char *) (src))[6], '\0' } })</span>
00499 <span class="preprocessor"></span><span class="preprocessor">#  endif</span>
00500 <span class="preprocessor"></span><a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> <span class="keywordtype">char</span> *<a class="code" href="string2_8h.html#a28">__strcpy_small</a> (<span class="keywordtype">char</span> *, __STRING2_COPY_ARR2,
00501                       __STRING2_COPY_ARR3,
00502                       __STRING2_COPY_ARR4,
00503                       __STRING2_COPY_ARR5,
00504                       __STRING2_COPY_ARR6,
00505                       __STRING2_COPY_ARR7,
00506                       __STRING2_COPY_ARR8, size_t);
00507 <a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> <span class="keywordtype">char</span> *
<a name="l00508"></a><a class="code" href="string2_8h.html#a28">00508</a> <a class="code" href="string2_8h.html#a28">__strcpy_small</a> (<span class="keywordtype">char</span> *__dest,
00509         __STRING2_COPY_ARR2 __src2, __STRING2_COPY_ARR3 __src3,
00510         __STRING2_COPY_ARR4 __src4, __STRING2_COPY_ARR5 __src5,
00511         __STRING2_COPY_ARR6 __src6, __STRING2_COPY_ARR7 __src7,
00512         __STRING2_COPY_ARR8 __src8, size_t __srclen)
00513 {
00514   <span class="keyword">union </span>{
00515     <span class="keywordtype">char</span> __c;
00516     __STRING2_COPY_ARR2 __sca2;
00517     __STRING2_COPY_ARR3 __sca3;
00518     __STRING2_COPY_ARR4 __sca4;
00519     __STRING2_COPY_ARR5 __sca5;
00520     __STRING2_COPY_ARR6 __sca6;
00521     __STRING2_COPY_ARR7 __sca7;
00522     __STRING2_COPY_ARR8 __sca8;
00523   } *__u = (<span class="keywordtype">void</span> *) __dest;
00524   <span class="keywordflow">switch</span> ((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>) __srclen)
00525     {
00526     <span class="keywordflow">case</span> 1:
00527       __u-&gt;__c = <span class="charliteral">'\0'</span>;
00528       <span class="keywordflow">break</span>;
00529     <span class="keywordflow">case</span> 2:
00530       <a class="code" href="cdefs_8h.html#a25">__extension__</a> __u-&gt;__sca2 = __src2;
00531       <span class="keywordflow">break</span>;
00532     <span class="keywordflow">case</span> 3:
00533       <a class="code" href="cdefs_8h.html#a25">__extension__</a> __u-&gt;__sca3 = __src3;
00534       <span class="keywordflow">break</span>;
00535     <span class="keywordflow">case</span> 4:
00536       <a class="code" href="cdefs_8h.html#a25">__extension__</a> __u-&gt;__sca4 = __src4;
00537       <span class="keywordflow">break</span>;
00538     <span class="keywordflow">case</span> 5:
00539       <a class="code" href="cdefs_8h.html#a25">__extension__</a> __u-&gt;__sca5 = __src5;
00540       <span class="keywordflow">break</span>;
00541     <span class="keywordflow">case</span> 6:
00542       <a class="code" href="cdefs_8h.html#a25">__extension__</a> __u-&gt;__sca6 = __src6;
00543       <span class="keywordflow">break</span>;
00544     <span class="keywordflow">case</span> 7:
00545       <a class="code" href="cdefs_8h.html#a25">__extension__</a> __u-&gt;__sca7 = __src7;
00546       <span class="keywordflow">break</span>;
00547     <span class="keywordflow">case</span> 8:
00548       <a class="code" href="cdefs_8h.html#a25">__extension__</a> __u-&gt;__sca8 = __src8;
00549       <span class="keywordflow">break</span>;
00550   }
00551   <span class="keywordflow">return</span> __dest;
00552 }
00553 <span class="preprocessor"># endif</span>
00554 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00555 <span class="preprocessor"></span>
00556 
00557 <span class="comment">/* Copy SRC to DEST, returning pointer to final NUL byte.  */</span>
00558 <span class="preprocessor">#ifdef __USE_GNU</span>
00559 <span class="preprocessor"></span><span class="preprocessor"># if !defined _HAVE_STRING_ARCH_stpcpy || defined _FORCE_INLINES</span>
00560 <span class="preprocessor"></span><span class="preprocessor">#  ifndef _HAVE_STRING_ARCH_stpcpy</span>
00561 <span class="preprocessor"></span><span class="preprocessor">#   if __GNUC_PREREQ (3, 0)</span>
00562 <span class="preprocessor"></span><span class="preprocessor">#    define __stpcpy(dest, src) \</span>
00563 <span class="preprocessor">  (__extension__ (__builtin_constant_p (src)                      \</span>
00564 <span class="preprocessor">          ? (__string2_1bptr_p (src) &amp;&amp; strlen (src) + 1 &lt;= 8         \</span>
00565 <span class="preprocessor">             ? __builtin_strcpy (dest, src) + strlen (src)        \</span>
00566 <span class="preprocessor">             : ((char *) (__mempcpy) (dest, src, strlen (src) + 1)    \</span>
00567 <span class="preprocessor">            - 1))                             \</span>
00568 <span class="preprocessor">          : __stpcpy (dest, src)))</span>
00569 <span class="preprocessor"></span><span class="preprocessor">#   else</span>
00570 <span class="preprocessor"></span><span class="preprocessor">#    define __stpcpy(dest, src) \</span>
00571 <span class="preprocessor">  (__extension__ (__builtin_constant_p (src)                      \</span>
00572 <span class="preprocessor">          ? (__string2_1bptr_p (src) &amp;&amp; strlen (src) + 1 &lt;= 8         \</span>
00573 <span class="preprocessor">             ? __stpcpy_small (dest, __stpcpy_args (src),         \</span>
00574 <span class="preprocessor">                       strlen (src) + 1)              \</span>
00575 <span class="preprocessor">             : ((char *) (__mempcpy) (dest, src, strlen (src) + 1)    \</span>
00576 <span class="preprocessor">            - 1))                             \</span>
00577 <span class="preprocessor">          : __stpcpy (dest, src)))</span>
00578 <span class="preprocessor"></span><span class="preprocessor">#   endif</span>
00579 <span class="preprocessor"></span><span class="comment">/* In glibc we use this function frequently but for namespace reasons</span>
00580 <span class="comment">   we have to use the name `__stpcpy'.  */</span>
00581 <span class="preprocessor">#   define stpcpy(dest, src) __stpcpy (dest, src)</span>
00582 <span class="preprocessor"></span><span class="preprocessor">#  endif</span>
00583 <span class="preprocessor"></span>
00584 <span class="preprocessor">#  if !__GNUC_PREREQ (3, 0) || defined _FORCE_INLINES</span>
00585 <span class="preprocessor"></span><span class="preprocessor">#   if _STRING_ARCH_unaligned</span>
00586 <span class="preprocessor"></span><span class="preprocessor">#    ifndef _FORCE_INLINES</span>
00587 <span class="preprocessor"></span><span class="preprocessor">#     define __stpcpy_args(src) \</span>
00588 <span class="preprocessor">     __extension__ __STRING2_SMALL_GET16 (src, 0),                \</span>
00589 <span class="preprocessor">     __extension__ __STRING2_SMALL_GET16 (src, 4),                \</span>
00590 <span class="preprocessor">     __extension__ __STRING2_SMALL_GET32 (src, 0),                \</span>
00591 <span class="preprocessor">     __extension__ __STRING2_SMALL_GET32 (src, 4)</span>
00592 <span class="preprocessor"></span><span class="preprocessor">#    endif</span>
00593 <span class="preprocessor"></span><a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> <span class="keywordtype">char</span> *__stpcpy_small (<span class="keywordtype">char</span> *, <a class="code" href="bits_2types_8h.html#a10">__uint16_t</a>, <a class="code" href="bits_2types_8h.html#a10">__uint16_t</a>,
00594                       <a class="code" href="bits_2types_8h.html#a12">__uint32_t</a>, <a class="code" href="bits_2types_8h.html#a12">__uint32_t</a>, size_t);
00595 <a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> <span class="keywordtype">char</span> *
00596 __stpcpy_small (<span class="keywordtype">char</span> *__dest,
00597         <a class="code" href="bits_2types_8h.html#a10">__uint16_t</a> __src0_2, <a class="code" href="bits_2types_8h.html#a10">__uint16_t</a> __src4_2,
00598         <a class="code" href="bits_2types_8h.html#a12">__uint32_t</a> __src0_4, <a class="code" href="bits_2types_8h.html#a12">__uint32_t</a> __src4_4,
00599         size_t __srclen)
00600 {
00601   <span class="keyword">union </span>{
00602     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> __ui;
00603     <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <span class="keywordtype">int</span> __usi;
00604     <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> __uc;
00605     <span class="keywordtype">char</span> __c;
00606   } *__u = (<span class="keywordtype">void</span> *) __dest;
00607   <span class="keywordflow">switch</span> ((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>) __srclen)
00608     {
00609     <span class="keywordflow">case</span> 1:
00610       __u-&gt;__uc = <span class="charliteral">'\0'</span>;
00611       <span class="keywordflow">break</span>;
00612     <span class="keywordflow">case</span> 2:
00613       __u-&gt;__usi = __src0_2;
00614       __u = <a class="code" href="cdefs_8h.html#a25">__extension__</a> ((<span class="keywordtype">void</span> *) __u + 1);
00615       <span class="keywordflow">break</span>;
00616     <span class="keywordflow">case</span> 3:
00617       __u-&gt;__usi = __src0_2;
00618       __u = <a class="code" href="cdefs_8h.html#a25">__extension__</a> ((<span class="keywordtype">void</span> *) __u + 2);
00619       __u-&gt;__uc = <span class="charliteral">'\0'</span>;
00620       <span class="keywordflow">break</span>;
00621     <span class="keywordflow">case</span> 4:
00622       __u-&gt;__ui = __src0_4;
00623       __u = <a class="code" href="cdefs_8h.html#a25">__extension__</a> ((<span class="keywordtype">void</span> *) __u + 3);
00624       <span class="keywordflow">break</span>;
00625     <span class="keywordflow">case</span> 5:
00626       __u-&gt;__ui = __src0_4;
00627       __u = <a class="code" href="cdefs_8h.html#a25">__extension__</a> ((<span class="keywordtype">void</span> *) __u + 4);
00628       __u-&gt;__uc = <span class="charliteral">'\0'</span>;
00629       <span class="keywordflow">break</span>;
00630     <span class="keywordflow">case</span> 6:
00631       __u-&gt;__ui = __src0_4;
00632       __u = <a class="code" href="cdefs_8h.html#a25">__extension__</a> ((<span class="keywordtype">void</span> *) __u + 4);
00633       __u-&gt;__usi = __src4_2;
00634       __u = <a class="code" href="cdefs_8h.html#a25">__extension__</a> ((<span class="keywordtype">void</span> *) __u + 1);
00635       <span class="keywordflow">break</span>;
00636     <span class="keywordflow">case</span> 7:
00637       __u-&gt;__ui = __src0_4;
00638       __u = <a class="code" href="cdefs_8h.html#a25">__extension__</a> ((<span class="keywordtype">void</span> *) __u + 4);
00639       __u-&gt;__usi = __src4_2;
00640       __u = <a class="code" href="cdefs_8h.html#a25">__extension__</a> ((<span class="keywordtype">void</span> *) __u + 2);
00641       __u-&gt;__uc = <span class="charliteral">'\0'</span>;
00642       <span class="keywordflow">break</span>;
00643     <span class="keywordflow">case</span> 8:
00644       __u-&gt;__ui = __src0_4;
00645       __u = <a class="code" href="cdefs_8h.html#a25">__extension__</a> ((<span class="keywordtype">void</span> *) __u + 4);
00646       __u-&gt;__ui = __src4_4;
00647       __u = <a class="code" href="cdefs_8h.html#a25">__extension__</a> ((<span class="keywordtype">void</span> *) __u + 3);
00648       <span class="keywordflow">break</span>;
00649     }
00650   <span class="keywordflow">return</span> &amp;__u-&gt;__c;
00651 }
00652 <span class="preprocessor">#   else</span>
00653 <span class="preprocessor"></span><span class="preprocessor">#    ifndef _FORCE_INLINES</span>
00654 <span class="preprocessor"></span><span class="preprocessor">#     define __stpcpy_args(src) \</span>
00655 <span class="preprocessor">     __extension__ ((__STRING2_COPY_ARR2)                     \</span>
00656 <span class="preprocessor">      { { ((__const char *) (src))[0], '\0' } }),                 \</span>
00657 <span class="preprocessor">     __extension__ ((__STRING2_COPY_ARR3)                     \</span>
00658 <span class="preprocessor">      { { ((__const char *) (src))[0], ((__const char *) (src))[1],       \</span>
00659 <span class="preprocessor">      '\0' } }),                                  \</span>
00660 <span class="preprocessor">     __extension__ ((__STRING2_COPY_ARR4)                     \</span>
00661 <span class="preprocessor">      { { ((__const char *) (src))[0], ((__const char *) (src))[1],       \</span>
00662 <span class="preprocessor">      ((__const char *) (src))[2], '\0' } }),                 \</span>
00663 <span class="preprocessor">     __extension__ ((__STRING2_COPY_ARR5)                     \</span>
00664 <span class="preprocessor">      { { ((__const char *) (src))[0], ((__const char *) (src))[1],       \</span>
00665 <span class="preprocessor">      ((__const char *) (src))[2], ((__const char *) (src))[3],       \</span>
00666 <span class="preprocessor">      '\0' } }),                                  \</span>
00667 <span class="preprocessor">     __extension__ ((__STRING2_COPY_ARR6)                     \</span>
00668 <span class="preprocessor">      { { ((__const char *) (src))[0], ((__const char *) (src))[1],       \</span>
00669 <span class="preprocessor">      ((__const char *) (src))[2], ((__const char *) (src))[3],       \</span>
00670 <span class="preprocessor">      ((__const char *) (src))[4], '\0' } }),                 \</span>
00671 <span class="preprocessor">     __extension__ ((__STRING2_COPY_ARR7)                     \</span>
00672 <span class="preprocessor">      { { ((__const char *) (src))[0], ((__const char *) (src))[1],       \</span>
00673 <span class="preprocessor">      ((__const char *) (src))[2], ((__const char *) (src))[3],       \</span>
00674 <span class="preprocessor">      ((__const char *) (src))[4], ((__const char *) (src))[5],       \</span>
00675 <span class="preprocessor">      '\0' } }),                                  \</span>
00676 <span class="preprocessor">     __extension__ ((__STRING2_COPY_ARR8)                     \</span>
00677 <span class="preprocessor">      { { ((__const char *) (src))[0], ((__const char *) (src))[1],       \</span>
00678 <span class="preprocessor">      ((__const char *) (src))[2], ((__const char *) (src))[3],       \</span>
00679 <span class="preprocessor">      ((__const char *) (src))[4], ((__const char *) (src))[5],       \</span>
00680 <span class="preprocessor">      ((__const char *) (src))[6], '\0' } })</span>
00681 <span class="preprocessor"></span><span class="preprocessor">#    endif</span>
00682 <span class="preprocessor"></span><a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> <span class="keywordtype">char</span> *__stpcpy_small (<span class="keywordtype">char</span> *, __STRING2_COPY_ARR2,
00683                       __STRING2_COPY_ARR3,
00684                       __STRING2_COPY_ARR4,
00685                       __STRING2_COPY_ARR5,
00686                       __STRING2_COPY_ARR6,
00687                       __STRING2_COPY_ARR7,
00688                       __STRING2_COPY_ARR8, size_t);
00689 <a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> <span class="keywordtype">char</span> *
00690 __stpcpy_small (<span class="keywordtype">char</span> *__dest,
00691         __STRING2_COPY_ARR2 __src2, __STRING2_COPY_ARR3 __src3,
00692         __STRING2_COPY_ARR4 __src4, __STRING2_COPY_ARR5 __src5,
00693         __STRING2_COPY_ARR6 __src6, __STRING2_COPY_ARR7 __src7,
00694         __STRING2_COPY_ARR8 __src8, size_t __srclen)
00695 {
00696   <span class="keyword">union </span>{
00697     <span class="keywordtype">char</span> __c;
00698     __STRING2_COPY_ARR2 __sca2;
00699     __STRING2_COPY_ARR3 __sca3;
00700     __STRING2_COPY_ARR4 __sca4;
00701     __STRING2_COPY_ARR5 __sca5;
00702     __STRING2_COPY_ARR6 __sca6;
00703     __STRING2_COPY_ARR7 __sca7;
00704     __STRING2_COPY_ARR8 __sca8;
00705   } *__u = (<span class="keywordtype">void</span> *) __dest;
00706   <span class="keywordflow">switch</span> ((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>) __srclen)
00707     {
00708     <span class="keywordflow">case</span> 1:
00709       __u-&gt;__c = <span class="charliteral">'\0'</span>;
00710       <span class="keywordflow">break</span>;
00711     <span class="keywordflow">case</span> 2:
00712       <a class="code" href="cdefs_8h.html#a25">__extension__</a> __u-&gt;__sca2 = __src2;
00713       <span class="keywordflow">break</span>;
00714     <span class="keywordflow">case</span> 3:
00715       <a class="code" href="cdefs_8h.html#a25">__extension__</a> __u-&gt;__sca3 = __src3;
00716       <span class="keywordflow">break</span>;
00717     <span class="keywordflow">case</span> 4:
00718       <a class="code" href="cdefs_8h.html#a25">__extension__</a> __u-&gt;__sca4 = __src4;
00719       <span class="keywordflow">break</span>;
00720     <span class="keywordflow">case</span> 5:
00721       <a class="code" href="cdefs_8h.html#a25">__extension__</a> __u-&gt;__sca5 = __src5;
00722       <span class="keywordflow">break</span>;
00723     <span class="keywordflow">case</span> 6:
00724       <a class="code" href="cdefs_8h.html#a25">__extension__</a> __u-&gt;__sca6 = __src6;
00725       <span class="keywordflow">break</span>;
00726     <span class="keywordflow">case</span> 7:
00727       <a class="code" href="cdefs_8h.html#a25">__extension__</a> __u-&gt;__sca7 = __src7;
00728       <span class="keywordflow">break</span>;
00729     <span class="keywordflow">case</span> 8:
00730       <a class="code" href="cdefs_8h.html#a25">__extension__</a> __u-&gt;__sca8 = __src8;
00731       <span class="keywordflow">break</span>;
00732   }
00733   <span class="keywordflow">return</span> __dest + __srclen - 1;
00734 }
00735 <span class="preprocessor">#   endif</span>
00736 <span class="preprocessor"></span><span class="preprocessor">#  endif</span>
00737 <span class="preprocessor"></span><span class="preprocessor"># endif</span>
00738 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00739 <span class="preprocessor"></span>
00740 
00741 <span class="comment">/* Copy no more than N characters of SRC to DEST.  */</span>
00742 <span class="preprocessor">#ifndef _HAVE_STRING_ARCH_strncpy</span>
00743 <span class="preprocessor"></span><span class="preprocessor"># if defined _USE_STRING_ARCH_memset &amp;&amp; defined _USE_STRING_ARCH_mempcpy</span>
00744 <span class="preprocessor"></span><span class="preprocessor">#  define strncpy(dest, src, n) \</span>
00745 <span class="preprocessor">  (__extension__ ({ char *__dest = (dest);                    \</span>
00746 <span class="preprocessor">            __builtin_constant_p (src) &amp;&amp; __builtin_constant_p (n)    \</span>
00747 <span class="preprocessor">            ? (strlen (src) + 1 &gt;= ((size_t) (n))             \</span>
00748 <span class="preprocessor">               ? (char *) memcpy (__dest, src, n)             \</span>
00749 <span class="preprocessor">               : (memset (__mempcpy (__dest, src, strlen (src)),      \</span>
00750 <span class="preprocessor">                  '\0', n - strlen (src)),            \</span>
00751 <span class="preprocessor">              __dest))                        \</span>
00752 <span class="preprocessor">            : strncpy (__dest, src, n); }))</span>
00753 <span class="preprocessor"></span><span class="preprocessor"># else</span>
<a name="l00754"></a><a class="code" href="string2_8h.html#a7">00754</a> <span class="preprocessor"></span><span class="preprocessor">#  define strncpy(dest, src, n) \</span>
00755 <span class="preprocessor">  (__extension__ (__builtin_constant_p (src) &amp;&amp; __builtin_constant_p (n)      \</span>
00756 <span class="preprocessor">          ? (strlen (src) + 1 &gt;= ((size_t) (n))               \</span>
00757 <span class="preprocessor">             ? (char *) memcpy (dest, src, n)                 \</span>
00758 <span class="preprocessor">             : strncpy (dest, src, n))                    \</span>
00759 <span class="preprocessor">          : strncpy (dest, src, n)))</span>
00760 <span class="preprocessor"></span><span class="preprocessor"># endif</span>
00761 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00762 <span class="preprocessor"></span>
00763 
00764 <span class="comment">/* Append no more than N characters from SRC onto DEST.  */</span>
00765 <span class="preprocessor">#ifndef _HAVE_STRING_ARCH_strncat</span>
00766 <span class="preprocessor"></span><span class="preprocessor"># ifdef _USE_STRING_ARCH_strchr</span>
00767 <span class="preprocessor"></span><span class="preprocessor">#  define strncat(dest, src, n) \</span>
00768 <span class="preprocessor">  (__extension__ ({ char *__dest = (dest);                    \</span>
00769 <span class="preprocessor">            __builtin_constant_p (src) &amp;&amp; __builtin_constant_p (n)    \</span>
00770 <span class="preprocessor">            ? (strlen (src) &lt; ((size_t) (n))                  \</span>
00771 <span class="preprocessor">               ? strcat (__dest, src)                     \</span>
00772 <span class="preprocessor">               : (*((char *) __mempcpy (strchr (__dest, '\0'),        \</span>
00773 <span class="preprocessor">                        src, n)) = '\0', __dest))     \</span>
00774 <span class="preprocessor">            : strncat (dest, src, n); }))</span>
00775 <span class="preprocessor"></span><span class="preprocessor"># else</span>
<a name="l00776"></a><a class="code" href="string2_8h.html#a8">00776</a> <span class="preprocessor"></span><span class="preprocessor">#  define strncat(dest, src, n) \</span>
00777 <span class="preprocessor">  (__extension__ (__builtin_constant_p (src) &amp;&amp; __builtin_constant_p (n)      \</span>
00778 <span class="preprocessor">          ? (strlen (src) &lt; ((size_t) (n))                \</span>
00779 <span class="preprocessor">             ? strcat (dest, src)                     \</span>
00780 <span class="preprocessor">             : strncat (dest, src, n))                    \</span>
00781 <span class="preprocessor">          : strncat (dest, src, n)))</span>
00782 <span class="preprocessor"></span><span class="preprocessor"># endif</span>
00783 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00784 <span class="preprocessor"></span>
00785 
00786 <span class="comment">/* Compare characters of S1 and S2.  */</span>
00787 <span class="preprocessor">#ifndef _HAVE_STRING_ARCH_strcmp</span>
<a name="l00788"></a><a class="code" href="string2_8h.html#a9">00788</a> <span class="preprocessor"></span><span class="preprocessor"># define strcmp(s1, s2) \</span>
00789 <span class="preprocessor">  __extension__                                   \</span>
00790 <span class="preprocessor">  ({ size_t __s1_len, __s2_len;                           \</span>
00791 <span class="preprocessor">     (__builtin_constant_p (s1) &amp;&amp; __builtin_constant_p (s2)              \</span>
00792 <span class="preprocessor">      &amp;&amp; (__s1_len = strlen (s1), __s2_len = strlen (s2),             \</span>
00793 <span class="preprocessor">      (!__string2_1bptr_p (s1) || __s1_len &gt;= 4)                  \</span>
00794 <span class="preprocessor">      &amp;&amp; (!__string2_1bptr_p (s2) || __s2_len &gt;= 4))              \</span>
00795 <span class="preprocessor">      ? memcmp ((__const char *) (s1), (__const char *) (s2),             \</span>
00796 <span class="preprocessor">        (__s1_len &lt; __s2_len ? __s1_len : __s2_len) + 1)          \</span>
00797 <span class="preprocessor">      : (__builtin_constant_p (s1) &amp;&amp; __string2_1bptr_p (s1)              \</span>
00798 <span class="preprocessor">     &amp;&amp; (__s1_len = strlen (s1), __s1_len &lt; 4)                \</span>
00799 <span class="preprocessor">     ? (__builtin_constant_p (s2) &amp;&amp; __string2_1bptr_p (s2)           \</span>
00800 <span class="preprocessor">        ? __strcmp_cc (s1, s2, __s1_len)                      \</span>
00801 <span class="preprocessor">        : __strcmp_cg (s1, s2, __s1_len))                     \</span>
00802 <span class="preprocessor">     : (__builtin_constant_p (s2) &amp;&amp; __string2_1bptr_p (s2)           \</span>
00803 <span class="preprocessor">        &amp;&amp; (__s2_len = strlen (s2), __s2_len &lt; 4)                 \</span>
00804 <span class="preprocessor">        ? (__builtin_constant_p (s1) &amp;&amp; __string2_1bptr_p (s1)        \</span>
00805 <span class="preprocessor">           ? __strcmp_cc (s1, s2, __s2_len)                   \</span>
00806 <span class="preprocessor">           : __strcmp_gc (s1, s2, __s2_len))                  \</span>
00807 <span class="preprocessor">        : strcmp (s1, s2)))); })</span>
00808 <span class="preprocessor"></span>
<a name="l00809"></a><a class="code" href="string2_8h.html#a10">00809</a> <span class="preprocessor"># define __strcmp_cc(s1, s2, l) \</span>
00810 <span class="preprocessor">  (__extension__ ({ register int __result =                   \</span>
00811 <span class="preprocessor">              (((__const unsigned char *) (__const char *) (s1))[0]   \</span>
00812 <span class="preprocessor">               - ((__const unsigned char *) (__const char *)(s2))[0]);\</span>
00813 <span class="preprocessor">            if (l &gt; 0 &amp;&amp; __result == 0)                   \</span>
00814 <span class="preprocessor">              {                               \</span>
00815 <span class="preprocessor">            __result = (((__const unsigned char *)            \</span>
00816 <span class="preprocessor">                     (__const char *) (s1))[1]            \</span>
00817 <span class="preprocessor">                    - ((__const unsigned char *)          \</span>
00818 <span class="preprocessor">                       (__const char *) (s2))[1]);        \</span>
00819 <span class="preprocessor">            if (l &gt; 1 &amp;&amp; __result == 0)               \</span>
00820 <span class="preprocessor">              {                           \</span>
00821 <span class="preprocessor">                __result =                        \</span>
00822 <span class="preprocessor">                  (((__const unsigned char *)             \</span>
00823 <span class="preprocessor">                (__const char *) (s1))[2]             \</span>
00824 <span class="preprocessor">                   - ((__const unsigned char *)           \</span>
00825 <span class="preprocessor">                  (__const char *) (s2))[2]);             \</span>
00826 <span class="preprocessor">                if (l &gt; 2 &amp;&amp; __result == 0)               \</span>
00827 <span class="preprocessor">                  __result =                      \</span>
00828 <span class="preprocessor">                (((__const unsigned char *)           \</span>
00829 <span class="preprocessor">                  (__const char *) (s1))[3]           \</span>
00830 <span class="preprocessor">                 - ((__const unsigned char *)             \</span>
00831 <span class="preprocessor">                    (__const char *) (s2))[3]);           \</span>
00832 <span class="preprocessor">              }                           \</span>
00833 <span class="preprocessor">              }                               \</span>
00834 <span class="preprocessor">            __result; }))</span>
00835 <span class="preprocessor"></span>
<a name="l00836"></a><a class="code" href="string2_8h.html#a11">00836</a> <span class="preprocessor"># define __strcmp_cg(s1, s2, l1) \</span>
00837 <span class="preprocessor">  (__extension__ ({ __const unsigned char *__s2 =                 \</span>
00838 <span class="preprocessor">              (__const unsigned char *) (__const char *) (s2);        \</span>
00839 <span class="preprocessor">            register int __result =                   \</span>
00840 <span class="preprocessor">              (((__const unsigned char *) (__const char *) (s1))[0]   \</span>
00841 <span class="preprocessor">               - __s2[0]);                        \</span>
00842 <span class="preprocessor">            if (l1 &gt; 0 &amp;&amp; __result == 0)                  \</span>
00843 <span class="preprocessor">              {                               \</span>
00844 <span class="preprocessor">            __result = (((__const unsigned char *)            \</span>
00845 <span class="preprocessor">                     (__const char *) (s1))[1] - __s2[1]);    \</span>
00846 <span class="preprocessor">            if (l1 &gt; 1 &amp;&amp; __result == 0)                  \</span>
00847 <span class="preprocessor">              {                           \</span>
00848 <span class="preprocessor">                __result = (((__const unsigned char *)        \</span>
00849 <span class="preprocessor">                     (__const char *) (s1))[2] - __s2[2]);\</span>
00850 <span class="preprocessor">                if (l1 &gt; 2 &amp;&amp; __result == 0)              \</span>
00851 <span class="preprocessor">                  __result = (((__const unsigned char *)          \</span>
00852 <span class="preprocessor">                      (__const char *)  (s1))[3]          \</span>
00853 <span class="preprocessor">                      - __s2[3]);                 \</span>
00854 <span class="preprocessor">              }                           \</span>
00855 <span class="preprocessor">              }                               \</span>
00856 <span class="preprocessor">            __result; }))</span>
00857 <span class="preprocessor"></span>
<a name="l00858"></a><a class="code" href="string2_8h.html#a12">00858</a> <span class="preprocessor"># define __strcmp_gc(s1, s2, l2) \</span>
00859 <span class="preprocessor">  (__extension__ ({ __const unsigned char *__s1 =                 \</span>
00860 <span class="preprocessor">              (__const unsigned char *) (__const char *) (s1);        \</span>
00861 <span class="preprocessor">            register int __result =                   \</span>
00862 <span class="preprocessor">              __s1[0] - ((__const unsigned char *)            \</span>
00863 <span class="preprocessor">                 (__const char *) (s2))[0];           \</span>
00864 <span class="preprocessor">            if (l2 &gt; 0 &amp;&amp; __result == 0)                  \</span>
00865 <span class="preprocessor">              {                               \</span>
00866 <span class="preprocessor">            __result = (__s1[1]                   \</span>
00867 <span class="preprocessor">                    - ((__const unsigned char *)          \</span>
00868 <span class="preprocessor">                       (__const char *) (s2))[1]);        \</span>
00869 <span class="preprocessor">            if (l2 &gt; 1 &amp;&amp; __result == 0)                  \</span>
00870 <span class="preprocessor">              {                           \</span>
00871 <span class="preprocessor">                __result =                        \</span>
00872 <span class="preprocessor">                  (__s1[2] - ((__const unsigned char *)       \</span>
00873 <span class="preprocessor">                      (__const char *) (s2))[2]);         \</span>
00874 <span class="preprocessor">                if (l2 &gt; 2 &amp;&amp; __result == 0)              \</span>
00875 <span class="preprocessor">                  __result =                      \</span>
00876 <span class="preprocessor">                (__s1[3]                      \</span>
00877 <span class="preprocessor">                 - ((__const unsigned char *)             \</span>
00878 <span class="preprocessor">                    (__const char *) (s2))[3]);           \</span>
00879 <span class="preprocessor">              }                           \</span>
00880 <span class="preprocessor">              }                               \</span>
00881 <span class="preprocessor">            __result; }))</span>
00882 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00883 <span class="preprocessor"></span>
00884 
00885 <span class="comment">/* Compare N characters of S1 and S2.  */</span>
00886 <span class="preprocessor">#ifndef _HAVE_STRING_ARCH_strncmp</span>
<a name="l00887"></a><a class="code" href="string2_8h.html#a13">00887</a> <span class="preprocessor"></span><span class="preprocessor"># define strncmp(s1, s2, n)                           \</span>
00888 <span class="preprocessor">  (__extension__ (__builtin_constant_p (n)                    \</span>
00889 <span class="preprocessor">          &amp;&amp; ((__builtin_constant_p (s1)                  \</span>
00890 <span class="preprocessor">               &amp;&amp; strlen (s1) &lt; ((size_t) (n)))               \</span>
00891 <span class="preprocessor">              || (__builtin_constant_p (s2)               \</span>
00892 <span class="preprocessor">              &amp;&amp; strlen (s2) &lt; ((size_t) (n))))           \</span>
00893 <span class="preprocessor">          ? strcmp (s1, s2) : strncmp (s1, s2, n)))</span>
00894 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00895 <span class="preprocessor"></span>
00896 
00897 <span class="comment">/* Return the length of the initial segment of S which</span>
00898 <span class="comment">   consists entirely of characters not in REJECT.  */</span>
00899 <span class="preprocessor">#if !defined _HAVE_STRING_ARCH_strcspn || defined _FORCE_INLINES</span>
00900 <span class="preprocessor"></span><span class="preprocessor"># ifndef _HAVE_STRING_ARCH_strcspn</span>
<a name="l00901"></a><a class="code" href="string2_8h.html#a14">00901</a> <span class="preprocessor"></span><span class="preprocessor">#  define strcspn(s, reject) \</span>
00902 <span class="preprocessor">  __extension__                                   \</span>
00903 <span class="preprocessor">  ({ char __r0, __r1, __r2;                           \</span>
00904 <span class="preprocessor">     (__builtin_constant_p (reject) &amp;&amp; __string2_1bptr_p (reject)         \</span>
00905 <span class="preprocessor">      ? ((__r0 = ((__const char *) (reject))[0], __r0 == '\0')            \</span>
00906 <span class="preprocessor">     ? strlen (s)                                 \</span>
00907 <span class="preprocessor">     : ((__r1 = ((__const char *) (reject))[1], __r1 == '\0')         \</span>
00908 <span class="preprocessor">        ? __strcspn_c1 (s, __r0)                          \</span>
00909 <span class="preprocessor">        : ((__r2 = ((__const char *) (reject))[2], __r2 == '\0')          \</span>
00910 <span class="preprocessor">           ? __strcspn_c2 (s, __r0, __r1)                     \</span>
00911 <span class="preprocessor">           : (((__const char *) (reject))[3] == '\0'              \</span>
00912 <span class="preprocessor">          ? __strcspn_c3 (s, __r0, __r1, __r2)                \</span>
00913 <span class="preprocessor">          : strcspn (s, reject)))))                   \</span>
00914 <span class="preprocessor">          : strcspn (s, reject)); })</span>
00915 <span class="preprocessor"></span><span class="preprocessor"># endif</span>
00916 <span class="preprocessor"></span>
00917 <a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> size_t <a class="code" href="string2_8h.html#a29">__strcspn_c1</a> (__const <span class="keywordtype">char</span> *__s, <span class="keywordtype">int</span> __reject);
00918 <a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> size_t
<a name="l00919"></a><a class="code" href="string2_8h.html#a29">00919</a> <a class="code" href="string2_8h.html#a29">__strcspn_c1</a> (__const <span class="keywordtype">char</span> *__s, <span class="keywordtype">int</span> __reject)
00920 {
00921   <span class="keyword">register</span> size_t __result = 0;
00922   <span class="keywordflow">while</span> (__s[__result] != <span class="charliteral">'\0'</span> &amp;&amp; __s[__result] != __reject)
00923     ++__result;
00924   <span class="keywordflow">return</span> __result;
00925 }
00926 
00927 <a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> size_t <a class="code" href="string2_8h.html#a30">__strcspn_c2</a> (__const <span class="keywordtype">char</span> *__s, <span class="keywordtype">int</span> __reject1,
00928                      <span class="keywordtype">int</span> __reject2);
00929 <a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> size_t
<a name="l00930"></a><a class="code" href="string2_8h.html#a30">00930</a> <a class="code" href="string2_8h.html#a30">__strcspn_c2</a> (__const <span class="keywordtype">char</span> *__s, <span class="keywordtype">int</span> __reject1, <span class="keywordtype">int</span> __reject2)
00931 {
00932   <span class="keyword">register</span> size_t __result = 0;
00933   <span class="keywordflow">while</span> (__s[__result] != <span class="charliteral">'\0'</span> &amp;&amp; __s[__result] != __reject1
00934      &amp;&amp; __s[__result] != __reject2)
00935     ++__result;
00936   <span class="keywordflow">return</span> __result;
00937 }
00938 
00939 <a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> size_t <a class="code" href="string2_8h.html#a31">__strcspn_c3</a> (__const <span class="keywordtype">char</span> *__s, <span class="keywordtype">int</span> __reject1,
00940                      <span class="keywordtype">int</span> __reject2, <span class="keywordtype">int</span> __reject3);
00941 <a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> size_t
<a name="l00942"></a><a class="code" href="string2_8h.html#a31">00942</a> <a class="code" href="string2_8h.html#a31">__strcspn_c3</a> (__const <span class="keywordtype">char</span> *__s, <span class="keywordtype">int</span> __reject1, <span class="keywordtype">int</span> __reject2,
00943           <span class="keywordtype">int</span> __reject3)
00944 {
00945   <span class="keyword">register</span> size_t __result = 0;
00946   <span class="keywordflow">while</span> (__s[__result] != <span class="charliteral">'\0'</span> &amp;&amp; __s[__result] != __reject1
00947      &amp;&amp; __s[__result] != __reject2 &amp;&amp; __s[__result] != __reject3)
00948     ++__result;
00949   <span class="keywordflow">return</span> __result;
00950 }
00951 <span class="preprocessor">#endif</span>
00952 <span class="preprocessor"></span>
00953 
00954 <span class="comment">/* Return the length of the initial segment of S which</span>
00955 <span class="comment">   consists entirely of characters in ACCEPT.  */</span>
00956 <span class="preprocessor">#if !defined _HAVE_STRING_ARCH_strspn || defined _FORCE_INLINES</span>
00957 <span class="preprocessor"></span><span class="preprocessor"># ifndef _HAVE_STRING_ARCH_strspn</span>
<a name="l00958"></a><a class="code" href="string2_8h.html#a15">00958</a> <span class="preprocessor"></span><span class="preprocessor">#  define strspn(s, accept) \</span>
00959 <span class="preprocessor">  __extension__                                   \</span>
00960 <span class="preprocessor">  ({ char __a0, __a1, __a2;                           \</span>
00961 <span class="preprocessor">     (__builtin_constant_p (accept) &amp;&amp; __string2_1bptr_p (accept)         \</span>
00962 <span class="preprocessor">      ? ((__a0 = ((__const char *) (accept))[0], __a0 == '\0')            \</span>
00963 <span class="preprocessor">     ? ((void) (s), 0)                            \</span>
00964 <span class="preprocessor">     : ((__a1 = ((__const char *) (accept))[1], __a1 == '\0')         \</span>
00965 <span class="preprocessor">        ? __strspn_c1 (s, __a0)                       \</span>
00966 <span class="preprocessor">        : ((__a2 = ((__const char *) (accept))[2], __a2 == '\0')          \</span>
00967 <span class="preprocessor">           ? __strspn_c2 (s, __a0, __a1)                      \</span>
00968 <span class="preprocessor">           : (((__const char *) (accept))[3] == '\0'              \</span>
00969 <span class="preprocessor">          ? __strspn_c3 (s, __a0, __a1, __a2)                 \</span>
00970 <span class="preprocessor">          : strspn (s, accept)))))                    \</span>
00971 <span class="preprocessor">      : strspn (s, accept)); })</span>
00972 <span class="preprocessor"></span><span class="preprocessor"># endif</span>
00973 <span class="preprocessor"></span>
00974 <a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> size_t <a class="code" href="string2_8h.html#a32">__strspn_c1</a> (__const <span class="keywordtype">char</span> *__s, <span class="keywordtype">int</span> __accept);
00975 <a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> size_t
<a name="l00976"></a><a class="code" href="string2_8h.html#a32">00976</a> <a class="code" href="string2_8h.html#a32">__strspn_c1</a> (__const <span class="keywordtype">char</span> *__s, <span class="keywordtype">int</span> __accept)
00977 {
00978   <span class="keyword">register</span> size_t __result = 0;
00979   <span class="comment">/* Please note that __accept never can be '\0'.  */</span>
00980   <span class="keywordflow">while</span> (__s[__result] == __accept)
00981     ++__result;
00982   <span class="keywordflow">return</span> __result;
00983 }
00984 
00985 <a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> size_t <a class="code" href="string2_8h.html#a33">__strspn_c2</a> (__const <span class="keywordtype">char</span> *__s, <span class="keywordtype">int</span> __accept1,
00986                     <span class="keywordtype">int</span> __accept2);
00987 <a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> size_t
<a name="l00988"></a><a class="code" href="string2_8h.html#a33">00988</a> <a class="code" href="string2_8h.html#a33">__strspn_c2</a> (__const <span class="keywordtype">char</span> *__s, <span class="keywordtype">int</span> __accept1, <span class="keywordtype">int</span> __accept2)
00989 {
00990   <span class="keyword">register</span> size_t __result = 0;
00991   <span class="comment">/* Please note that __accept1 and __accept2 never can be '\0'.  */</span>
00992   <span class="keywordflow">while</span> (__s[__result] == __accept1 || __s[__result] == __accept2)
00993     ++__result;
00994   <span class="keywordflow">return</span> __result;
00995 }
00996 
00997 <a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> size_t <a class="code" href="string2_8h.html#a34">__strspn_c3</a> (__const <span class="keywordtype">char</span> *__s, <span class="keywordtype">int</span> __accept1,
00998                     <span class="keywordtype">int</span> __accept2, <span class="keywordtype">int</span> __accept3);
00999 <a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> size_t
<a name="l01000"></a><a class="code" href="string2_8h.html#a34">01000</a> <a class="code" href="string2_8h.html#a34">__strspn_c3</a> (__const <span class="keywordtype">char</span> *__s, <span class="keywordtype">int</span> __accept1, <span class="keywordtype">int</span> __accept2, <span class="keywordtype">int</span> __accept3)
01001 {
01002   <span class="keyword">register</span> size_t __result = 0;
01003   <span class="comment">/* Please note that __accept1 to __accept3 never can be '\0'.  */</span>
01004   <span class="keywordflow">while</span> (__s[__result] == __accept1 || __s[__result] == __accept2
01005      || __s[__result] == __accept3)
01006     ++__result;
01007   <span class="keywordflow">return</span> __result;
01008 }
01009 <span class="preprocessor">#endif</span>
01010 <span class="preprocessor"></span>
01011 
01012 <span class="comment">/* Find the first occurrence in S of any character in ACCEPT.  */</span>
01013 <span class="preprocessor">#if !defined _HAVE_STRING_ARCH_strpbrk || defined _FORCE_INLINES</span>
01014 <span class="preprocessor"></span><span class="preprocessor"># ifndef _HAVE_STRING_ARCH_strpbrk</span>
<a name="l01015"></a><a class="code" href="string2_8h.html#a16">01015</a> <span class="preprocessor"></span><span class="preprocessor">#  define strpbrk(s, accept) \</span>
01016 <span class="preprocessor">  __extension__                                   \</span>
01017 <span class="preprocessor">  ({ char __a0, __a1, __a2;                           \</span>
01018 <span class="preprocessor">     (__builtin_constant_p (accept) &amp;&amp; __string2_1bptr_p (accept)         \</span>
01019 <span class="preprocessor">      ? ((__a0 = ((__const char  *) (accept))[0], __a0 == '\0')           \</span>
01020 <span class="preprocessor">     ? ((void) (s), NULL)                             \</span>
01021 <span class="preprocessor">     : ((__a1 = ((__const char *) (accept))[1], __a1 == '\0')         \</span>
01022 <span class="preprocessor">        ? strchr (s, __a0)                            \</span>
01023 <span class="preprocessor">        : ((__a2 = ((__const char *) (accept))[2], __a2 == '\0')          \</span>
01024 <span class="preprocessor">           ? __strpbrk_c2 (s, __a0, __a1)                     \</span>
01025 <span class="preprocessor">           : (((__const char *) (accept))[3] == '\0'              \</span>
01026 <span class="preprocessor">          ? __strpbrk_c3 (s, __a0, __a1, __a2)                \</span>
01027 <span class="preprocessor">          : strpbrk (s, accept)))))                   \</span>
01028 <span class="preprocessor">      : strpbrk (s, accept)); })</span>
01029 <span class="preprocessor"></span><span class="preprocessor"># endif</span>
01030 <span class="preprocessor"></span>
01031 <a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> <span class="keywordtype">char</span> *<a class="code" href="string2_8h.html#a35">__strpbrk_c2</a> (__const <span class="keywordtype">char</span> *__s, <span class="keywordtype">int</span> __accept1,
01032                      <span class="keywordtype">int</span> __accept2);
01033 <a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> <span class="keywordtype">char</span> *
<a name="l01034"></a><a class="code" href="string2_8h.html#a35">01034</a> <a class="code" href="string2_8h.html#a35">__strpbrk_c2</a> (__const <span class="keywordtype">char</span> *__s, <span class="keywordtype">int</span> __accept1, <span class="keywordtype">int</span> __accept2)
01035 {
01036   <span class="comment">/* Please note that __accept1 and __accept2 never can be '\0'.  */</span>
01037   <span class="keywordflow">while</span> (*__s != <span class="charliteral">'\0'</span> &amp;&amp; *__s != __accept1 &amp;&amp; *__s != __accept2)
01038     ++__s;
01039   <span class="keywordflow">return</span> *__s == <span class="charliteral">'\0'</span> ? <a class="code" href="stddef_8h.html#a0">NULL</a> : (<span class="keywordtype">char</span> *) (size_t) __s;
01040 }
01041 
01042 <a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> <span class="keywordtype">char</span> *<a class="code" href="string2_8h.html#a36">__strpbrk_c3</a> (__const <span class="keywordtype">char</span> *__s, <span class="keywordtype">int</span> __accept1,
01043                      <span class="keywordtype">int</span> __accept2, <span class="keywordtype">int</span> __accept3);
01044 <a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> <span class="keywordtype">char</span> *
<a name="l01045"></a><a class="code" href="string2_8h.html#a36">01045</a> <a class="code" href="string2_8h.html#a36">__strpbrk_c3</a> (__const <span class="keywordtype">char</span> *__s, <span class="keywordtype">int</span> __accept1, <span class="keywordtype">int</span> __accept2,
01046           <span class="keywordtype">int</span> __accept3)
01047 {
01048   <span class="comment">/* Please note that __accept1 to __accept3 never can be '\0'.  */</span>
01049   <span class="keywordflow">while</span> (*__s != <span class="charliteral">'\0'</span> &amp;&amp; *__s != __accept1 &amp;&amp; *__s != __accept2
01050      &amp;&amp; *__s != __accept3)
01051     ++__s;
01052   <span class="keywordflow">return</span> *__s == <span class="charliteral">'\0'</span> ? <a class="code" href="stddef_8h.html#a0">NULL</a> : (<span class="keywordtype">char</span> *) (size_t) __s;
01053 }
01054 <span class="preprocessor">#endif</span>
01055 <span class="preprocessor"></span>
01056 
01057 <span class="comment">/* Find the first occurrence of NEEDLE in HAYSTACK.  Newer gcc versions</span>
01058 <span class="comment">   do this itself.  */</span>
01059 <span class="preprocessor">#if !defined _HAVE_STRING_ARCH_strstr &amp;&amp; !__GNUC_PREREQ (2, 97)</span>
<a name="l01060"></a><a class="code" href="string2_8h.html#a17">01060</a> <span class="preprocessor"></span><span class="preprocessor"># define strstr(haystack, needle) \</span>
01061 <span class="preprocessor">  (__extension__ (__builtin_constant_p (needle) &amp;&amp; __string2_1bptr_p (needle) \</span>
01062 <span class="preprocessor">          ? (((__const char *) (needle))[0] == '\0'           \</span>
01063 <span class="preprocessor">             ? (char *) (size_t) (haystack)               \</span>
01064 <span class="preprocessor">             : (((__const char *) (needle))[1] == '\0'            \</span>
01065 <span class="preprocessor">            ? strchr (haystack,                   \</span>
01066 <span class="preprocessor">                  ((__const char *) (needle))[0])         \</span>
01067 <span class="preprocessor">            : strstr (haystack, needle)))                 \</span>
01068 <span class="preprocessor">          : strstr (haystack, needle)))</span>
01069 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
01070 <span class="preprocessor"></span>
01071 
01072 <span class="preprocessor">#if !defined _HAVE_STRING_ARCH_strtok_r || defined _FORCE_INLINES</span>
01073 <span class="preprocessor"></span><span class="preprocessor"># ifndef _HAVE_STRING_ARCH_strtok_r</span>
<a name="l01074"></a><a class="code" href="string2_8h.html#a18">01074</a> <span class="preprocessor"></span><span class="preprocessor">#  define __strtok_r(s, sep, nextp) \</span>
01075 <span class="preprocessor">  (__extension__ (__builtin_constant_p (sep) &amp;&amp; __string2_1bptr_p (sep)       \</span>
01076 <span class="preprocessor">          ? (((__const char *) (sep))[0] != '\0'              \</span>
01077 <span class="preprocessor">             &amp;&amp; ((__const char *) (sep))[1] == '\0'           \</span>
01078 <span class="preprocessor">             ? __strtok_r_1c (s, ((__const char *) (sep))[0], nextp)  \</span>
01079 <span class="preprocessor">             : __strtok_r (s, sep, nextp))                \</span>
01080 <span class="preprocessor">          : __strtok_r (s, sep, nextp)))</span>
01081 <span class="preprocessor"></span><span class="preprocessor"># endif</span>
01082 <span class="preprocessor"></span>
01083 <a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> <span class="keywordtype">char</span> *<a class="code" href="string2_8h.html#a37">__strtok_r_1c</a> (<span class="keywordtype">char</span> *__s, <span class="keywordtype">char</span> __sep, <span class="keywordtype">char</span> **__nextp);
01084 <a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> <span class="keywordtype">char</span> *
<a name="l01085"></a><a class="code" href="string2_8h.html#a37">01085</a> <a class="code" href="string2_8h.html#a37">__strtok_r_1c</a> (<span class="keywordtype">char</span> *__s, <span class="keywordtype">char</span> __sep, <span class="keywordtype">char</span> **__nextp)
01086 {
01087   <span class="keywordtype">char</span> *__result;
01088   <span class="keywordflow">if</span> (__s == <a class="code" href="stddef_8h.html#a0">NULL</a>)
01089     __s = *__nextp;
01090   <span class="keywordflow">while</span> (*__s == __sep)
01091     ++__s;
01092   __result = <a class="code" href="stddef_8h.html#a0">NULL</a>;
01093   <span class="keywordflow">if</span> (*__s != <span class="charliteral">'\0'</span>)
01094     {
01095       __result = __s++;
01096       <span class="keywordflow">while</span> (*__s != <span class="charliteral">'\0'</span>)
01097     <span class="keywordflow">if</span> (*__s++ == __sep)
01098       {
01099         __s[-1] = <span class="charliteral">'\0'</span>;
01100         <span class="keywordflow">break</span>;
01101       }
01102       *__nextp = __s;
01103     }
01104   <span class="keywordflow">return</span> __result;
01105 }
01106 <span class="preprocessor"># if defined __USE_POSIX || defined __USE_MISC</span>
01107 <span class="preprocessor"></span><span class="preprocessor">#  define strtok_r(s, sep, nextp) __strtok_r (s, sep, nextp)</span>
01108 <span class="preprocessor"></span><span class="preprocessor"># endif</span>
01109 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
01110 <span class="preprocessor"></span>
01111 
01112 <span class="preprocessor">#if !defined _HAVE_STRING_ARCH_strsep || defined _FORCE_INLINES</span>
01113 <span class="preprocessor"></span><span class="preprocessor"># ifndef _HAVE_STRING_ARCH_strsep</span>
01114 <span class="preprocessor"></span>
01115 <span class="keyword">extern</span> <span class="keywordtype">char</span> *<a class="code" href="string2_8h.html#a38">__strsep_g</a> (<span class="keywordtype">char</span> **__stringp, __const <span class="keywordtype">char</span> *__delim);
<a name="l01116"></a><a class="code" href="string2_8h.html#a19">01116</a> <span class="preprocessor">#  define __strsep(s, reject) \</span>
01117 <span class="preprocessor">  __extension__                                   \</span>
01118 <span class="preprocessor">  ({ char __r0, __r1, __r2;                           \</span>
01119 <span class="preprocessor">     (__builtin_constant_p (reject) &amp;&amp; __string2_1bptr_p (reject)         \</span>
01120 <span class="preprocessor">      &amp;&amp; (__r0 = ((__const char *) (reject))[0],                  \</span>
01121 <span class="preprocessor">      ((__const char *) (reject))[0] != '\0')                 \</span>
01122 <span class="preprocessor">      ? ((__r1 = ((__const char *) (reject))[1],                  \</span>
01123 <span class="preprocessor">     ((__const char *) (reject))[1] == '\0')                  \</span>
01124 <span class="preprocessor">     ? __strsep_1c (s, __r0)                          \</span>
01125 <span class="preprocessor">     : ((__r2 = ((__const char *) (reject))[2], __r2 == '\0')         \</span>
01126 <span class="preprocessor">        ? __strsep_2c (s, __r0, __r1)                     \</span>
01127 <span class="preprocessor">        : (((__const char *) (reject))[3] == '\0'                 \</span>
01128 <span class="preprocessor">           ? __strsep_3c (s, __r0, __r1, __r2)                \</span>
01129 <span class="preprocessor">           : __strsep_g (s, reject))))                    \</span>
01130 <span class="preprocessor">      : __strsep_g (s, reject)); })</span>
01131 <span class="preprocessor"></span><span class="preprocessor"># endif</span>
01132 <span class="preprocessor"></span>
01133 <a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> <span class="keywordtype">char</span> *<a class="code" href="string2_8h.html#a39">__strsep_1c</a> (<span class="keywordtype">char</span> **__s, <span class="keywordtype">char</span> __reject);
01134 <a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> <span class="keywordtype">char</span> *
<a name="l01135"></a><a class="code" href="string2_8h.html#a39">01135</a> <a class="code" href="string2_8h.html#a39">__strsep_1c</a> (<span class="keywordtype">char</span> **__s, <span class="keywordtype">char</span> __reject)
01136 {
01137   <span class="keyword">register</span> <span class="keywordtype">char</span> *__retval = *__s;
01138   <span class="keywordflow">if</span> (__retval != <a class="code" href="stddef_8h.html#a0">NULL</a> &amp;&amp; (*__s = <a class="code" href="string2_8h.html#a4">strchr</a> (__retval, __reject)) != <a class="code" href="stddef_8h.html#a0">NULL</a>)
01139     *(*__s)++ = <span class="charliteral">'\0'</span>;
01140   <span class="keywordflow">return</span> __retval;
01141 }
01142 
01143 <a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> <span class="keywordtype">char</span> *<a class="code" href="string2_8h.html#a40">__strsep_2c</a> (<span class="keywordtype">char</span> **__s, <span class="keywordtype">char</span> __reject1, <span class="keywordtype">char</span> __reject2);
01144 <a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> <span class="keywordtype">char</span> *
<a name="l01145"></a><a class="code" href="string2_8h.html#a40">01145</a> <a class="code" href="string2_8h.html#a40">__strsep_2c</a> (<span class="keywordtype">char</span> **__s, <span class="keywordtype">char</span> __reject1, <span class="keywordtype">char</span> __reject2)
01146 {
01147   <span class="keyword">register</span> <span class="keywordtype">char</span> *__retval = *__s;
01148   <span class="keywordflow">if</span> (__retval != <a class="code" href="stddef_8h.html#a0">NULL</a>)
01149     {
01150       <span class="keyword">register</span> <span class="keywordtype">char</span> *__cp = __retval;
01151       <span class="keywordflow">while</span> (1)
01152     {
01153       <span class="keywordflow">if</span> (*__cp == <span class="charliteral">'\0'</span>)
01154         {
01155           __cp = <a class="code" href="stddef_8h.html#a0">NULL</a>;
01156       <span class="keywordflow">break</span>;
01157         }
01158       <span class="keywordflow">if</span> (*__cp == __reject1 || *__cp == __reject2)
01159         {
01160           *__cp++ = <span class="charliteral">'\0'</span>;
01161           <span class="keywordflow">break</span>;
01162         }
01163       ++__cp;
01164     }
01165       *__s = __cp;
01166     }
01167   <span class="keywordflow">return</span> __retval;
01168 }
01169 
01170 <a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> <span class="keywordtype">char</span> *<a class="code" href="string2_8h.html#a41">__strsep_3c</a> (<span class="keywordtype">char</span> **__s, <span class="keywordtype">char</span> __reject1, <span class="keywordtype">char</span> __reject2,
01171                    <span class="keywordtype">char</span> __reject3);
01172 <a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> <span class="keywordtype">char</span> *
<a name="l01173"></a><a class="code" href="string2_8h.html#a41">01173</a> <a class="code" href="string2_8h.html#a41">__strsep_3c</a> (<span class="keywordtype">char</span> **__s, <span class="keywordtype">char</span> __reject1, <span class="keywordtype">char</span> __reject2, <span class="keywordtype">char</span> __reject3)
01174 {
01175   <span class="keyword">register</span> <span class="keywordtype">char</span> *__retval = *__s;
01176   <span class="keywordflow">if</span> (__retval != <a class="code" href="stddef_8h.html#a0">NULL</a>)
01177     {
01178       <span class="keyword">register</span> <span class="keywordtype">char</span> *__cp = __retval;
01179       <span class="keywordflow">while</span> (1)
01180     {
01181       <span class="keywordflow">if</span> (*__cp == <span class="charliteral">'\0'</span>)
01182         {
01183           __cp = <a class="code" href="stddef_8h.html#a0">NULL</a>;
01184       <span class="keywordflow">break</span>;
01185         }
01186       <span class="keywordflow">if</span> (*__cp == __reject1 || *__cp == __reject2 || *__cp == __reject3)
01187         {
01188           *__cp++ = <span class="charliteral">'\0'</span>;
01189           <span class="keywordflow">break</span>;
01190         }
01191       ++__cp;
01192     }
01193       *__s = __cp;
01194     }
01195   <span class="keywordflow">return</span> __retval;
01196 }
01197 <span class="preprocessor"># ifdef __USE_BSD</span>
01198 <span class="preprocessor"></span><span class="preprocessor">#  define strsep(s, reject) __strsep (s, reject)</span>
01199 <span class="preprocessor"></span><span class="preprocessor"># endif</span>
01200 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
01201 <span class="preprocessor"></span>
01202 <span class="comment">/* We need the memory allocation functions for inline strdup().</span>
01203 <span class="comment">   Referring to stdlib.h (even minimally) is not allowed</span>
01204 <span class="comment">   in any of the tight standards compliant modes.  */</span>
01205 <span class="preprocessor">#ifdef __USE_MISC</span>
01206 <span class="preprocessor"></span>
01207 <span class="preprocessor"># if !defined _HAVE_STRING_ARCH_strdup || !defined _HAVE_STRING_ARCH_strndup</span>
01208 <span class="preprocessor"></span><span class="preprocessor">#  define __need_malloc_and_calloc</span>
01209 <span class="preprocessor"></span><span class="preprocessor">#  include &lt;<a class="code" href="stdlib_8h.html">stdlib.h</a>&gt;</span>
01210 <span class="preprocessor"># endif</span>
01211 <span class="preprocessor"></span>
01212 <span class="preprocessor"># ifndef _HAVE_STRING_ARCH_strdup</span>
01213 <span class="preprocessor"></span>
01214 <span class="keyword">extern</span> <span class="keywordtype">char</span> *__strdup (__const <span class="keywordtype">char</span> *__string) <a class="code" href="cdefs_8h.html#a2">__THROW</a> <a class="code" href="cdefs_8h.html#a19">__attribute_malloc__</a>;
01215 <span class="preprocessor">#  define __strdup(s) \</span>
01216 <span class="preprocessor">  (__extension__ (__builtin_constant_p (s) &amp;&amp; __string2_1bptr_p (s)       \</span>
01217 <span class="preprocessor">          ? (((__const char *) (s))[0] == '\0'                \</span>
01218 <span class="preprocessor">             ? (char *) calloc (1, 1)                     \</span>
01219 <span class="preprocessor">             : ({ size_t __len = strlen (s) + 1;              \</span>
01220 <span class="preprocessor">              char *__retval = (char *) malloc (__len);       \</span>
01221 <span class="preprocessor">              if (__retval != NULL)                   \</span>
01222 <span class="preprocessor">                __retval = (char *) memcpy (__retval, s, __len);  \</span>
01223 <span class="preprocessor">              __retval; }))                       \</span>
01224 <span class="preprocessor">          : __strdup (s)))</span>
01225 <span class="preprocessor"></span>
01226 <span class="preprocessor">#  if defined __USE_SVID || defined __USE_BSD || defined __USE_XOPEN_EXTENDED</span>
01227 <span class="preprocessor"></span><span class="preprocessor">#   define strdup(s) __strdup (s)</span>
01228 <span class="preprocessor"></span><span class="preprocessor">#  endif</span>
01229 <span class="preprocessor"></span><span class="preprocessor"># endif</span>
01230 <span class="preprocessor"></span>
01231 <span class="preprocessor"># ifndef _HAVE_STRING_ARCH_strndup</span>
01232 <span class="preprocessor"></span>
01233 <span class="keyword">extern</span> <span class="keywordtype">char</span> *__strndup (__const <span class="keywordtype">char</span> *__string, size_t __n)
01234      <a class="code" href="cdefs_8h.html#a2">__THROW</a> <a class="code" href="cdefs_8h.html#a19">__attribute_malloc__</a>;
01235 <span class="preprocessor">#  define __strndup(s, n) \</span>
01236 <span class="preprocessor">  (__extension__ (__builtin_constant_p (s) &amp;&amp; __string2_1bptr_p (s)       \</span>
01237 <span class="preprocessor">          ? (((__const char *) (s))[0] == '\0'                \</span>
01238 <span class="preprocessor">             ? (char *) calloc (1, 1)                     \</span>
01239 <span class="preprocessor">             : ({ size_t __len = strlen (s) + 1;              \</span>
01240 <span class="preprocessor">              size_t __n = (n);                   \</span>
01241 <span class="preprocessor">              char *__retval;                     \</span>
01242 <span class="preprocessor">              if (__n &lt; __len)                    \</span>
01243 <span class="preprocessor">                __len = __n + 1;                      \</span>
01244 <span class="preprocessor">              __retval = (char *) malloc (__len);             \</span>
01245 <span class="preprocessor">              if (__retval != NULL)                   \</span>
01246 <span class="preprocessor">                {                             \</span>
01247 <span class="preprocessor">                  __retval[__len - 1] = '\0';             \</span>
01248 <span class="preprocessor">                  __retval = (char *) memcpy (__retval, s,        \</span>
01249 <span class="preprocessor">                              __len - 1);         \</span>
01250 <span class="preprocessor">                }                             \</span>
01251 <span class="preprocessor">              __retval; }))                       \</span>
01252 <span class="preprocessor">          : __strndup (s, n)))</span>
01253 <span class="preprocessor"></span>
01254 <span class="preprocessor">#  ifdef __USE_GNU</span>
01255 <span class="preprocessor"></span><span class="preprocessor">#   define strndup(s, n) __strndup (s, n)</span>
01256 <span class="preprocessor"></span><span class="preprocessor">#  endif</span>
01257 <span class="preprocessor"></span><span class="preprocessor"># endif</span>
01258 <span class="preprocessor"></span>
01259 <span class="preprocessor">#endif </span><span class="comment">/* Use misc. or use GNU.  */</span>
01260 
01261 <span class="preprocessor">#ifndef _FORCE_INLINES</span>
01262 <span class="preprocessor"></span><span class="preprocessor"># undef __STRING_INLINE</span>
01263 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
01264 <span class="preprocessor"></span>
01265 <span class="preprocessor">#endif </span><span class="comment">/* No string inlines.  */</span>
</pre></div>  </body>
</html>
