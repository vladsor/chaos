<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-
1">
<title>API documentation for Posix enviroment</title>
<style type="text/css">

BODY { background-color: #e0e0ff; }
H1 { text-align: center; }
CAPTION { font-weight: bold }
A { color: #000066; text-decoration: none; font-weight: bold; }
A.qindex {}
A.qindexRef {}
A.el { text-decoration: none; font-weight: bold }
A.elRef { font-weight: bold }
A.code { text-decoration: none; font-weight: normal; color: #4444ee }
A.codeRef { font-weight: normal; color: #4444ee }
A:hover { text-decoration: underline; background-color: #f2f2ff }
A:visited { color: #000066; }
DL.el { margin-left: -1cm }
DIV.fragment { width: 100%; border: none; background-color: #eeeeee }
DIV.ah { background-color: black; font-weight: bold; color: #ffffff; margin-bottom: 3px; margin-top: 3px }
TD.md { background-color: #f2f2ff; font-weight: bold; }
TD.mdname1 { background-color: #f2f2ff; font-weight: bold; color: #602020; }
TD.mdname { background-color: #f2f2ff; font-weight: bold; color: #602020; width: 600px; }
DIV.groupHeader { margin-left: 16px; margin-top: 12px; margin-bottom: 6px; font-weight: bold }
DIV.groupText { margin-left: 16px; font-style: italic; font-size: smaller }
TR, TD, TABLE { padding: 0 0 0 0; margin: 0 0 0 0; }
TD.indexkey { 
   background-color: #d0d0ff; 
   font-weight: bold; 
   padding-right  : 10px; 
   padding-top    : 2px; 
   padding-left   : 10px; 
   padding-bottom : 2px; 
   margin-left    : 0px; 
   margin-right   : 0px; 
   margin-top     : 0px; 
   margin-bottom  : 0px  
}
TD.indexvalue { 
   background-color: #d0d0ff; 
   font-style: italic; 
   padding-right  : 10px; 
   padding-top    : 2px; 
   padding-left   : 10px; 
   padding-bottom : 2px; 
   margin-left    : 0px; 
   margin-right   : 0px; 
   margin-top     : 0px; 
   margin-bottom  : 0px  
}
span.keyword       { color: #008000 }
span.keywordtype   { color: #604020 }
span.keywordflow   { color: #e08000 }
span.comment       { color: #800000 }
span.preprocessor  { color: #806020 }
span.stringliteral { color: #002080 }
span.charliteral   { color: #008080 }

BODY, TD { font-family: tahoma, verdana, arial, sansserif; font-size: 11px; }

</style>
</head><body>
<center><a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="annotated.html">Data Structures</a> &nbsp; <a class="qindex" href="functions.html">Data Structure Members List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="globals.html">Globals</a> &nbsp; </center>


<!-- Generated by Doxygen 1.3.5 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a></div>
<h1>string.h</h1><a href="bits_2string_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">/* Optimized, inlined string functions.  i386 version.</span>
00002 <span class="comment">   Copyright (C) 1997, 1998, 1999, 2000 Free Software Foundation, Inc.</span>
00003 <span class="comment">   This file is part of the GNU C Library.</span>
00004 <span class="comment"></span>
00005 <span class="comment">   The GNU C Library is free software; you can redistribute it and/or</span>
00006 <span class="comment">   modify it under the terms of the GNU Lesser General Public</span>
00007 <span class="comment">   License as published by the Free Software Foundation; either</span>
00008 <span class="comment">   version 2.1 of the License, or (at your option) any later version.</span>
00009 <span class="comment"></span>
00010 <span class="comment">   The GNU C Library is distributed in the hope that it will be useful,</span>
00011 <span class="comment">   but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
00012 <span class="comment">   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span>
00013 <span class="comment">   Lesser General Public License for more details.</span>
00014 <span class="comment"></span>
00015 <span class="comment">   You should have received a copy of the GNU Lesser General Public</span>
00016 <span class="comment">   License along with the GNU C Library; if not, write to the Free</span>
00017 <span class="comment">   Software Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA</span>
00018 <span class="comment">   02111-1307 USA.  */</span>
00019 
00020 <span class="preprocessor">#ifndef _STRING_H</span>
00021 <span class="preprocessor"></span><span class="preprocessor"># error "Never use &lt;bits/string.h&gt; directly; include &lt;string.h&gt; instead."</span>
00022 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00023 <span class="preprocessor"></span>
00024 <span class="comment">/* The ix86 processors can access unaligned multi-byte variables.  */</span>
<a name="l00025"></a><a class="code" href="bits_2string_8h.html#a0">00025</a> <span class="preprocessor">#define _STRING_ARCH_unaligned  1</span>
00026 <span class="preprocessor"></span>
00027 
00028 <span class="comment">/* We only provide optimizations if the user selects them and if</span>
00029 <span class="comment">   GNU CC is used.  */</span>
00030 <span class="preprocessor">#if !defined __NO_STRING_INLINES &amp;&amp; defined __USE_STRING_INLINES \</span>
00031 <span class="preprocessor">    &amp;&amp; defined __GNUC__ &amp;&amp; __GNUC__ &gt;= 2 &amp;&amp; !__BOUNDED_POINTERS__</span>
00032 <span class="preprocessor"></span>
00033 <span class="preprocessor">#ifndef __STRING_INLINE</span>
00034 <span class="preprocessor"></span><span class="preprocessor"># ifdef __cplusplus</span>
00035 <span class="preprocessor"></span><span class="preprocessor">#  define __STRING_INLINE inline</span>
00036 <span class="preprocessor"></span><span class="preprocessor"># else</span>
00037 <span class="preprocessor"></span><span class="preprocessor">#  define __STRING_INLINE extern __inline</span>
00038 <span class="preprocessor"></span><span class="preprocessor"># endif</span>
00039 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00040 <span class="preprocessor"></span>
00041 
00042 <span class="comment">/* Copy N bytes of SRC to DEST.  */</span>
00043 <span class="preprocessor">#define _HAVE_STRING_ARCH_memcpy 1</span>
00044 <span class="preprocessor"></span><span class="preprocessor">#define memcpy(dest, src, n) \</span>
00045 <span class="preprocessor">  (__extension__ (__builtin_constant_p (n)                    \</span>
00046 <span class="preprocessor">          ? __memcpy_c (dest, src, n)                     \</span>
00047 <span class="preprocessor">          : memcpy (dest, src, n)))</span>
00048 <span class="preprocessor"></span><span class="comment">/* This looks horribly ugly, but the compiler can optimize it totally,</span>
00049 <span class="comment">   as the count is constant.  */</span>
00050 <a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> <span class="keywordtype">void</span> *__memcpy_c (<span class="keywordtype">void</span> *__dest, __const <span class="keywordtype">void</span> *__src,
00051                   size_t __n);
00052 
00053 <a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> <span class="keywordtype">void</span> *
00054 __memcpy_c (<span class="keywordtype">void</span> *__dest, __const <span class="keywordtype">void</span> *__src, size_t __n)
00055 {
00056   <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> __d0, __d1, __d2;
00057   <span class="keyword">union </span>{
00058     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> __ui;
00059     <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <span class="keywordtype">int</span> __usi;
00060     <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> __uc;
00061   } *__u = __dest;
00062   <span class="keywordflow">switch</span> (__n)
00063     {
00064     <span class="keywordflow">case</span> 0:
00065       <span class="keywordflow">return</span> __dest;
00066     <span class="keywordflow">case</span> 1:
00067       __u-&gt;__uc = *(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) __src;
00068       <span class="keywordflow">return</span> __dest;
00069     <span class="keywordflow">case</span> 2:
00070       __u-&gt;__usi = *(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <span class="keywordtype">int</span> *) __src;
00071       <span class="keywordflow">return</span> __dest;
00072     <span class="keywordflow">case</span> 3:
00073       __u-&gt;__usi = *(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <span class="keywordtype">int</span> *) __src;
00074       __u = (<span class="keywordtype">void</span> *) __u + 2;
00075       __u-&gt;__uc = *(2 + (<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) __src);
00076       <span class="keywordflow">return</span> __dest;
00077     <span class="keywordflow">case</span> 4:
00078       __u-&gt;__ui = *(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *) __src;
00079       <span class="keywordflow">return</span> __dest;
00080     <span class="keywordflow">case</span> 6:
00081       __u-&gt;__ui = *(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *) __src;
00082       __u = (<span class="keywordtype">void</span> *) __u + 4;
00083       __u-&gt;__usi = *(2 + (<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <span class="keywordtype">int</span> *) __src);
00084       <span class="keywordflow">return</span> __dest;
00085     <span class="keywordflow">case</span> 8:
00086       __u-&gt;__ui = *(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *) __src;
00087       __u = (<span class="keywordtype">void</span> *) __u + 4;
00088       __u-&gt;__ui = *(1 + (<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *) __src);
00089       <span class="keywordflow">return</span> __dest;
00090     <span class="keywordflow">case</span> 12:
00091       __u-&gt;__ui = *(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *) __src;
00092       __u = (<span class="keywordtype">void</span> *) __u + 4;
00093       __u-&gt;__ui = *(1 + (<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *) __src);
00094       __u = (<span class="keywordtype">void</span> *) __u + 4;
00095       __u-&gt;__ui = *(2 + (<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *) __src);
00096       <span class="keywordflow">return</span> __dest;
00097     <span class="keywordflow">case</span> 16:
00098       __u-&gt;__ui = *(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *) __src;
00099       __u = (<span class="keywordtype">void</span> *) __u + 4;
00100       __u-&gt;__ui = *(1 + (<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *) __src);
00101       __u = (<span class="keywordtype">void</span> *) __u + 4;
00102       __u-&gt;__ui = *(2 + (<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *) __src);
00103       __u = (<span class="keywordtype">void</span> *) __u + 4;
00104       __u-&gt;__ui = *(3 + (<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *) __src);
00105       <span class="keywordflow">return</span> __dest;
00106     <span class="keywordflow">case</span> 20:
00107       __u-&gt;__ui = *(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *) __src;
00108       __u = (<span class="keywordtype">void</span> *) __u + 4;
00109       __u-&gt;__ui = *(1 + (<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *) __src);
00110       __u = (<span class="keywordtype">void</span> *) __u + 4;
00111       __u-&gt;__ui = *(2 + (<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *) __src);
00112       __u = (<span class="keywordtype">void</span> *) __u + 4;
00113       __u-&gt;__ui = *(3 + (<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *) __src);
00114       __u = (<span class="keywordtype">void</span> *) __u + 4;
00115       __u-&gt;__ui = *(4 + (<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *) __src);
00116       <span class="keywordflow">return</span> __dest;
00117     }
00118 <span class="preprocessor">#define __COMMON_CODE(x) \</span>
00119 <span class="preprocessor">  __asm__ __volatile__                                \</span>
00120 <span class="preprocessor">    ("cld\n\t"                                    \</span>
00121 <span class="preprocessor">     "rep; movsl"                                 \</span>
00122 <span class="preprocessor">     x                                        \</span>
00123 <span class="preprocessor">     : "=&amp;c" (__d0), "=&amp;D" (__d1), "=&amp;S" (__d2)                   \</span>
00124 <span class="preprocessor">     : "0" (__n / 4), "1" (&amp;__u-&gt;__uc), "2" (__src)               \</span>
00125 <span class="preprocessor">     : "memory");</span>
00126 <span class="preprocessor"></span>
00127   <span class="keywordflow">switch</span> (__n % 4)
00128     {
00129     <span class="keywordflow">case</span> 0:
00130       __COMMON_CODE (<span class="stringliteral">""</span>);
00131       <span class="keywordflow">break</span>;
00132     <span class="keywordflow">case</span> 1:
00133       __COMMON_CODE (<span class="stringliteral">"\n\tmovsb"</span>);
00134       <span class="keywordflow">break</span>;
00135     <span class="keywordflow">case</span> 2:
00136       __COMMON_CODE (<span class="stringliteral">"\n\tmovsw"</span>);
00137       <span class="keywordflow">break</span>;
00138     <span class="keywordflow">case</span> 3:
00139       __COMMON_CODE (<span class="stringliteral">"\n\tmovsw\n\tmovsb"</span>);
00140       <span class="keywordflow">break</span>;
00141   }
00142   <span class="keywordflow">return</span> __dest;
00143 <span class="preprocessor">#undef __COMMON_CODE</span>
00144 <span class="preprocessor"></span>}
00145 
00146 
00147 <span class="comment">/* Copy N bytes of SRC to DEST, guaranteeing</span>
00148 <span class="comment">   correct behavior for overlapping strings.  */</span>
00149 <span class="preprocessor">#define _HAVE_STRING_ARCH_memmove 1</span>
00150 <span class="preprocessor"></span><span class="preprocessor">#ifndef _FORCE_INLINES</span>
00151 <span class="preprocessor"></span><a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> <span class="keywordtype">void</span> *
00152 <a class="code" href="string_8h.html#a4">memmove</a> (<span class="keywordtype">void</span> *__dest, __const <span class="keywordtype">void</span> *__src, size_t __n)
00153 {
00154   <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> __d0, __d1, __d2;
00155   <span class="keywordflow">if</span> (__dest &lt; __src)
00156     __asm__ __volatile__
00157       (<span class="stringliteral">"cld\n\t"</span>
00158        <span class="stringliteral">"rep\n\t"</span>
00159        <span class="stringliteral">"movsb"</span>
00160        : <span class="stringliteral">"=&amp;c"</span> (__d0), <span class="stringliteral">"=&amp;S"</span> (__d1), <span class="stringliteral">"=&amp;D"</span> (__d2)
00161        : <span class="stringliteral">"0"</span> (__n), <span class="stringliteral">"1"</span> (__src), <span class="stringliteral">"2"</span> (__dest)
00162        : <span class="stringliteral">"memory"</span>);
00163   <span class="keywordflow">else</span>
00164     __asm__ __volatile__
00165       (<span class="stringliteral">"std\n\t"</span>
00166        <span class="stringliteral">"rep\n\t"</span>
00167        <span class="stringliteral">"movsb\n\t"</span>
00168        <span class="stringliteral">"cld"</span>
00169        : <span class="stringliteral">"=&amp;c"</span> (__d0), <span class="stringliteral">"=&amp;S"</span> (__d1), <span class="stringliteral">"=&amp;D"</span> (__d2)
00170        : <span class="stringliteral">"0"</span> (__n), <span class="stringliteral">"1"</span> (__n - 1 + (<span class="keyword">const</span> <span class="keywordtype">char</span> *) __src),
00171      <span class="stringliteral">"2"</span> (__n - 1 + (<span class="keywordtype">char</span> *) __dest)
00172        : <span class="stringliteral">"memory"</span>);
00173   <span class="keywordflow">return</span> __dest;
00174 }
00175 <span class="preprocessor">#endif</span>
00176 <span class="preprocessor"></span>
00177 <span class="comment">/* Set N bytes of S to C.  */</span>
00178 <span class="preprocessor">#define _HAVE_STRING_ARCH_memset 1</span>
00179 <span class="preprocessor"></span><span class="preprocessor">#define _USE_STRING_ARCH_memset 1</span>
00180 <span class="preprocessor"></span><span class="preprocessor">#define memset(s, c, n) \</span>
00181 <span class="preprocessor">  (__extension__ (__builtin_constant_p (c)                    \</span>
00182 <span class="preprocessor">          ? (__builtin_constant_p (n)                     \</span>
00183 <span class="preprocessor">             ? __memset_cc (s, 0x01010101UL * (unsigned char) (c), n) \</span>
00184 <span class="preprocessor">             : __memset_cg (s, 0x01010101UL * (unsigned char) (c), n))\</span>
00185 <span class="preprocessor">          : __memset_gg (s, c, n)))</span>
00186 <span class="preprocessor"></span>
00187 <a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> <span class="keywordtype">void</span> *__memset_cc (<span class="keywordtype">void</span> *__s, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> __pattern,
00188                    size_t __n);
00189 
00190 <a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> <span class="keywordtype">void</span> *
00191 __memset_cc (<span class="keywordtype">void</span> *__s, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> __pattern, size_t __n)
00192 {
00193   <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> __d0, __d1;
00194   <span class="keyword">union </span>{
00195     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> __ui;
00196     <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <span class="keywordtype">int</span> __usi;
00197     <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> __uc;
00198   } *__u = __s;
00199   <span class="keywordflow">switch</span> (__n)
00200     {
00201     <span class="keywordflow">case</span> 0:
00202       <span class="keywordflow">return</span> __s;
00203     <span class="keywordflow">case</span> 1:
00204       __u-&gt;__uc = __pattern;
00205       <span class="keywordflow">return</span> __s;
00206     <span class="keywordflow">case</span> 2:
00207       __u-&gt;__usi = __pattern;
00208       <span class="keywordflow">return</span> __s;
00209     <span class="keywordflow">case</span> 3:
00210       __u-&gt;__usi = __pattern;
00211       __u = <a class="code" href="cdefs_8h.html#a25">__extension__</a> ((<span class="keywordtype">void</span> *) __u + 2);
00212       __u-&gt;__uc = __pattern;
00213       <span class="keywordflow">return</span> __s;
00214     <span class="keywordflow">case</span> 4:
00215       __u-&gt;__ui = __pattern;
00216       <span class="keywordflow">return</span> __s;
00217     }
00218 <span class="preprocessor">#define __COMMON_CODE(x) \</span>
00219 <span class="preprocessor">  __asm__ __volatile__                                \</span>
00220 <span class="preprocessor">    ("cld\n\t"                                    \</span>
00221 <span class="preprocessor">     "rep; stosl"                                 \</span>
00222 <span class="preprocessor">     x                                        \</span>
00223 <span class="preprocessor">     : "=&amp;c" (__d0), "=&amp;D" (__d1)                         \</span>
00224 <span class="preprocessor">     : "a" (__pattern), "0" (__n / 4), "1" (&amp;__u-&gt;__uc)               \</span>
00225 <span class="preprocessor">     : "memory")</span>
00226 <span class="preprocessor"></span>
00227   <span class="keywordflow">switch</span> (__n % 4)
00228     {
00229     <span class="keywordflow">case</span> 0:
00230       __COMMON_CODE (<span class="stringliteral">""</span>);
00231       <span class="keywordflow">break</span>;
00232     <span class="keywordflow">case</span> 1:
00233       __COMMON_CODE (<span class="stringliteral">"\n\tstosb"</span>);
00234       <span class="keywordflow">break</span>;
00235     <span class="keywordflow">case</span> 2:
00236       __COMMON_CODE (<span class="stringliteral">"\n\tstosw"</span>);
00237       <span class="keywordflow">break</span>;
00238     <span class="keywordflow">case</span> 3:
00239       __COMMON_CODE (<span class="stringliteral">"\n\tstosw\n\tstosb"</span>);
00240       <span class="keywordflow">break</span>;
00241     }
00242   <span class="keywordflow">return</span> __s;
00243 <span class="preprocessor">#undef __COMMON_CODE</span>
00244 <span class="preprocessor"></span>}
00245 
00246 <a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> <span class="keywordtype">void</span> *__memset_cg (<span class="keywordtype">void</span> *__s, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> __c, size_t __n);
00247 
00248 <a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> <span class="keywordtype">void</span> *
00249 __memset_cg (<span class="keywordtype">void</span> *__s, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> __c, size_t __n)
00250 {
00251   <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> __d0, __d1;
00252   __asm__ __volatile__
00253     (<span class="stringliteral">"cld\n\t"</span>
00254      <span class="stringliteral">"rep; stosl\n\t"</span>
00255      <span class="stringliteral">"testb $2,%b3\n\t"</span>
00256      <span class="stringliteral">"je    1f\n\t"</span>
00257      <span class="stringliteral">"stosw\n"</span>
00258      <span class="stringliteral">"1:\n\t"</span>
00259      <span class="stringliteral">"testb $1,%b3\n\t"</span>
00260      <span class="stringliteral">"je    2f\n\t"</span>
00261      <span class="stringliteral">"stosb\n"</span>
00262      <span class="stringliteral">"2:"</span>
00263      : <span class="stringliteral">"=&amp;c"</span> (__d0), <span class="stringliteral">"=&amp;D"</span> (__d1)
00264      : <span class="stringliteral">"a"</span> (__c), <span class="stringliteral">"q"</span> (__n), <span class="stringliteral">"0"</span> (__n / 4), <span class="stringliteral">"1"</span> (__s)
00265      : <span class="stringliteral">"memory"</span>);
00266   <span class="keywordflow">return</span> __s;
00267 }
00268 
00269 <a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> <span class="keywordtype">void</span> *__memset_gg (<span class="keywordtype">void</span> *__s, <span class="keywordtype">char</span> __c, size_t __n);
00270 
00271 <a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> <span class="keywordtype">void</span> *
00272 __memset_gg (<span class="keywordtype">void</span> *__s, <span class="keywordtype">char</span> __c, size_t __n)
00273 {
00274   <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> __d0, __d1;
00275   __asm__ __volatile__
00276     (<span class="stringliteral">"cld\n\t"</span>
00277      <span class="stringliteral">"rep; stosb"</span>
00278      : <span class="stringliteral">"=&amp;D"</span> (__d0), <span class="stringliteral">"=&amp;c"</span> (__d1)
00279      : <span class="stringliteral">"a"</span> (__c), <span class="stringliteral">"0"</span> (__s), <span class="stringliteral">"1"</span> (__n)
00280      : <span class="stringliteral">"memory"</span>);
00281   <span class="keywordflow">return</span> __s;
00282 }
00283 
00284 
00285 
00286 
00287 <span class="comment">/* Search N bytes of S for C.  */</span>
00288 <span class="preprocessor">#define _HAVE_STRING_ARCH_memchr 1</span>
00289 <span class="preprocessor"></span><span class="preprocessor">#ifndef _FORCE_INLINES</span>
00290 <span class="preprocessor"></span><a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> <span class="keywordtype">void</span> *
00291 <a class="code" href="string_8h.html#a8">memchr</a> (__const <span class="keywordtype">void</span> *__s, <span class="keywordtype">int</span> __c, size_t __n)
00292 {
00293   <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> __d0;
00294   <span class="keyword">register</span> <span class="keywordtype">void</span> *__res;
00295   <span class="keywordflow">if</span> (__n == 0)
00296     <span class="keywordflow">return</span> <a class="code" href="stddef_8h.html#a0">NULL</a>;
00297   __asm__ __volatile__
00298     (<span class="stringliteral">"cld\n\t"</span>
00299      <span class="stringliteral">"repne; scasb\n\t"</span>
00300      <span class="stringliteral">"je 1f\n\t"</span>
00301      <span class="stringliteral">"movl $1,%0\n"</span>
00302      <span class="stringliteral">"1:"</span>
00303      : <span class="stringliteral">"=D"</span> (__res), <span class="stringliteral">"=&amp;c"</span> (__d0)
00304      : <span class="stringliteral">"a"</span> (__c), <span class="stringliteral">"0"</span> (__s), <span class="stringliteral">"1"</span> (__n)
00305      : <span class="stringliteral">"cc"</span>);
00306   <span class="keywordflow">return</span> __res - 1;
00307 }
00308 <span class="preprocessor">#endif</span>
00309 <span class="preprocessor"></span>
00310 <span class="preprocessor">#define _HAVE_STRING_ARCH_memrchr 1</span>
00311 <span class="preprocessor"></span><span class="preprocessor">#ifndef _FORCE_INLINES</span>
00312 <span class="preprocessor"></span><a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> <span class="keywordtype">void</span> *
00313 __memrchr (__const <span class="keywordtype">void</span> *__s, <span class="keywordtype">int</span> __c, size_t __n)
00314 {
00315   <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> __d0;
00316   <span class="keyword">register</span> <span class="keywordtype">void</span> *__res;
00317   <span class="keywordflow">if</span> (__n == 0)
00318     <span class="keywordflow">return</span> <a class="code" href="stddef_8h.html#a0">NULL</a>;
00319   __asm__ __volatile__
00320     (<span class="stringliteral">"std\n\t"</span>
00321      <span class="stringliteral">"repne; scasb\n\t"</span>
00322      <span class="stringliteral">"je 1f\n\t"</span>
00323      <span class="stringliteral">"orl $-1,%0\n"</span>
00324      <span class="stringliteral">"1:\tcld"</span>
00325      : <span class="stringliteral">"=D"</span> (__res), <span class="stringliteral">"=&amp;c"</span> (__d0)
00326      : <span class="stringliteral">"a"</span> (__c), <span class="stringliteral">"0"</span> (__s + __n - 1), <span class="stringliteral">"1"</span> (__n)
00327      : <span class="stringliteral">"cc"</span>);
00328   <span class="keywordflow">return</span> __res + 1;
00329 }
00330 <span class="preprocessor"># ifdef __USE_GNU</span>
00331 <span class="preprocessor"></span><span class="preprocessor">#  define memrchr(s, c, n) __memrchr (s, c, n)</span>
00332 <span class="preprocessor"></span><span class="preprocessor"># endif</span>
00333 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00334 <span class="preprocessor"></span>
00335 <span class="comment">/* Return the length of S.  */</span>
00336 <span class="preprocessor">#define _HAVE_STRING_ARCH_strlen 1</span>
00337 <span class="preprocessor"></span><span class="preprocessor">#ifndef _FORCE_INLINES</span>
00338 <span class="preprocessor"></span><a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> size_t
00339 <a class="code" href="string_8h.html#a27">strlen</a> (__const <span class="keywordtype">char</span> *__str)
00340 {
00341   <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> __d0;
00342   <span class="keyword">register</span> size_t __res;
00343   __asm__ __volatile__
00344     (<span class="stringliteral">"cld\n\t"</span>
00345      <span class="stringliteral">"repne; scasb\n\t"</span>
00346      <span class="stringliteral">"notl %0"</span>
00347      : <span class="stringliteral">"=c"</span> (__res), <span class="stringliteral">"=&amp;D"</span> (__d0)
00348      : <span class="stringliteral">"1"</span> (__str), <span class="stringliteral">"a"</span> (0), <span class="stringliteral">"0"</span> (0xffffffff)
00349      : <span class="stringliteral">"cc"</span>);
00350   <span class="keywordflow">return</span> __res - 1;
00351 }
00352 <span class="preprocessor">#endif</span>
00353 <span class="preprocessor"></span>
00354 <span class="comment">/* Copy SRC to DEST.  */</span>
00355 <span class="preprocessor">#define _HAVE_STRING_ARCH_strcpy 1</span>
00356 <span class="preprocessor"></span><span class="preprocessor">#ifndef _FORCE_INLINES</span>
00357 <span class="preprocessor"></span><a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> <span class="keywordtype">char</span> *
00358 <a class="code" href="string2_8h.html#a5">strcpy</a> (<span class="keywordtype">char</span> *__dest, __const <span class="keywordtype">char</span> *__src)
00359 {
00360   <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> __d0, __d1;
00361   __asm__ __volatile__
00362     (<span class="stringliteral">"cld\n"</span>
00363      <span class="stringliteral">"1:\n\t"</span>
00364      <span class="stringliteral">"lodsb\n\t"</span>
00365      <span class="stringliteral">"stosb\n\t"</span>
00366      <span class="stringliteral">"testb %%al,%%al\n\t"</span>
00367      <span class="stringliteral">"jne   1b"</span>
00368      : <span class="stringliteral">"=&amp;S"</span> (__d0), <span class="stringliteral">"=&amp;D"</span> (__d1)
00369      : <span class="stringliteral">"0"</span> (__src), <span class="stringliteral">"1"</span> (__dest)
00370      : <span class="stringliteral">"ax"</span>, <span class="stringliteral">"memory"</span>, <span class="stringliteral">"cc"</span>);
00371   <span class="keywordflow">return</span> __dest;
00372 }
00373 <span class="preprocessor">#endif</span>
00374 <span class="preprocessor"></span>
00375 <span class="comment">/* Copy no more than N characters of SRC to DEST.  */</span>
00376 <span class="preprocessor">#define _HAVE_STRING_ARCH_strncpy 1</span>
00377 <span class="preprocessor"></span><span class="preprocessor">#ifndef _FORCE_INLINES</span>
00378 <span class="preprocessor"></span><a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> <span class="keywordtype">char</span> *
00379 <a class="code" href="string2_8h.html#a7">strncpy</a> (<span class="keywordtype">char</span> *__dest, __const <span class="keywordtype">char</span> *__src, size_t __n)
00380 {
00381   <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> __d0, __d1, __d2;
00382   __asm__ __volatile__
00383     (<span class="stringliteral">"cld\n"</span>
00384      <span class="stringliteral">"1:\n\t"</span>
00385      <span class="stringliteral">"decl  %2\n\t"</span>
00386      <span class="stringliteral">"js    2f\n\t"</span>
00387      <span class="stringliteral">"lodsb\n\t"</span>
00388      <span class="stringliteral">"stosb\n\t"</span>
00389      <span class="stringliteral">"testb %%al,%%al\n\t"</span>
00390      <span class="stringliteral">"jne   1b\n\t"</span>
00391      <span class="stringliteral">"rep; stosb\n"</span>
00392      <span class="stringliteral">"2:"</span>
00393      : <span class="stringliteral">"=&amp;S"</span> (__d0), <span class="stringliteral">"=&amp;D"</span> (__d1), <span class="stringliteral">"=&amp;c"</span> (__d2)
00394      : <span class="stringliteral">"0"</span> (__src), <span class="stringliteral">"1"</span> (__dest), <span class="stringliteral">"2"</span> (__n)
00395      : <span class="stringliteral">"ax"</span>, <span class="stringliteral">"memory"</span>, <span class="stringliteral">"cc"</span>);
00396   <span class="keywordflow">return</span> __dest;
00397 }
00398 <span class="preprocessor">#endif</span>
00399 <span class="preprocessor"></span>
00400 <span class="comment">/* Append SRC onto DEST.  */</span>
00401 <span class="preprocessor">#define _HAVE_STRING_ARCH_strcat 1</span>
00402 <span class="preprocessor"></span><span class="preprocessor">#ifndef _FORCE_INLINES</span>
00403 <span class="preprocessor"></span><a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> <span class="keywordtype">char</span> *
00404 <a class="code" href="string_8h.html#a11">strcat</a> (<span class="keywordtype">char</span> *__dest, __const <span class="keywordtype">char</span> *__src)
00405 {
00406   <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> __d0, __d1, __d2, __d3;
00407   __asm__ __volatile__
00408     (<span class="stringliteral">"cld\n\t"</span>
00409      <span class="stringliteral">"repne; scasb\n\t"</span>
00410      <span class="stringliteral">"decl  %1\n"</span>
00411      <span class="stringliteral">"1:\n\t"</span>
00412      <span class="stringliteral">"lodsb\n\t"</span>
00413      <span class="stringliteral">"stosb\n\t"</span>
00414      <span class="stringliteral">"testb %%al,%%al\n\t"</span>
00415      <span class="stringliteral">"jne   1b"</span>
00416      : <span class="stringliteral">"=&amp;S"</span> (__d0), <span class="stringliteral">"=&amp;D"</span> (__d1), <span class="stringliteral">"=&amp;c"</span> (__d2), <span class="stringliteral">"=&amp;a"</span> (__d3)
00417      : <span class="stringliteral">"0"</span> (__src), <span class="stringliteral">"1"</span> (__dest), <span class="stringliteral">"2"</span> (0xffffffff), <span class="stringliteral">"3"</span> (0)
00418      : <span class="stringliteral">"memory"</span>, <span class="stringliteral">"cc"</span>);
00419   <span class="keywordflow">return</span> __dest;
00420 }
00421 <span class="preprocessor">#endif</span>
00422 <span class="preprocessor"></span>
00423 <span class="comment">/* Append no more than N characters from SRC onto DEST.  */</span>
00424 <span class="preprocessor">#define _HAVE_STRING_ARCH_strncat 1</span>
00425 <span class="preprocessor"></span><span class="preprocessor">#ifndef _FORCE_INLINES</span>
00426 <span class="preprocessor"></span><a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> <span class="keywordtype">char</span> *
00427 <a class="code" href="string2_8h.html#a8">strncat</a> (<span class="keywordtype">char</span> *__dest, __const <span class="keywordtype">char</span> *__src, size_t __n)
00428 {
00429   <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> __d0, __d1, __d2, __d3;
00430   __asm__ __volatile__
00431     (<span class="stringliteral">"cld\n\t"</span>
00432      <span class="stringliteral">"repne; scasb\n\t"</span>
00433      <span class="stringliteral">"decl  %1\n\t"</span>
00434      <span class="stringliteral">"movl  %4,%2\n"</span>
00435      <span class="stringliteral">"1:\n\t"</span>
00436      <span class="stringliteral">"decl  %2\n\t"</span>
00437      <span class="stringliteral">"js    2f\n\t"</span>
00438      <span class="stringliteral">"lodsb\n\t"</span>
00439      <span class="stringliteral">"stosb\n\t"</span>
00440      <span class="stringliteral">"testb %%al,%%al\n\t"</span>
00441      <span class="stringliteral">"jne   1b\n\t"</span>
00442      <span class="stringliteral">"jmp   3f\n"</span>
00443      <span class="stringliteral">"2:\n\t"</span>
00444      <span class="stringliteral">"xorl  %3,%3\n\t"</span>
00445      <span class="stringliteral">"stosb\n"</span>
00446      <span class="stringliteral">"3:"</span>
00447      : <span class="stringliteral">"=&amp;S"</span> (__d0), <span class="stringliteral">"=&amp;D"</span> (__d1), <span class="stringliteral">"=&amp;c"</span> (__d2), <span class="stringliteral">"=&amp;a"</span> (__d3)
00448      : <span class="stringliteral">"g"</span> (__n), <span class="stringliteral">"0"</span> (__src), <span class="stringliteral">"1"</span> (__dest), <span class="stringliteral">"2"</span> (0xffffffff), <span class="stringliteral">"3"</span> (0)
00449      : <span class="stringliteral">"memory"</span>, <span class="stringliteral">"cc"</span>);
00450   <span class="keywordflow">return</span> __dest;
00451 }
00452 <span class="preprocessor">#endif</span>
00453 <span class="preprocessor"></span>
00454 <span class="comment">/* Compare S1 and S2.  */</span>
00455 <span class="preprocessor">#define _HAVE_STRING_ARCH_strcmp 1</span>
00456 <span class="preprocessor"></span><span class="preprocessor">#ifndef _FORCE_INLINES</span>
00457 <span class="preprocessor"></span><a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> <span class="keywordtype">int</span>
00458 <a class="code" href="string2_8h.html#a9">strcmp</a> (__const <span class="keywordtype">char</span> *__s1, __const <span class="keywordtype">char</span> *__s2)
00459 {
00460   <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> __d0, __d1;
00461   <span class="keyword">register</span> <span class="keywordtype">int</span> __res;
00462   __asm__ __volatile__
00463     (<span class="stringliteral">"cld\n"</span>
00464      <span class="stringliteral">"1:\n\t"</span>
00465      <span class="stringliteral">"lodsb\n\t"</span>
00466      <span class="stringliteral">"scasb\n\t"</span>
00467      <span class="stringliteral">"jne   2f\n\t"</span>
00468      <span class="stringliteral">"testb %%al,%%al\n\t"</span>
00469      <span class="stringliteral">"jne   1b\n\t"</span>
00470      <span class="stringliteral">"xorl  %%eax,%%eax\n\t"</span>
00471      <span class="stringliteral">"jmp   3f\n"</span>
00472      <span class="stringliteral">"2:\n\t"</span>
00473      <span class="stringliteral">"sbbl  %%eax,%%eax\n\t"</span>
00474      <span class="stringliteral">"orb   $1,%%al\n"</span>
00475      <span class="stringliteral">"3:"</span>
00476      : <span class="stringliteral">"=a"</span> (__res), <span class="stringliteral">"=&amp;S"</span> (__d0), <span class="stringliteral">"=&amp;D"</span> (__d1)
00477      : <span class="stringliteral">"1"</span> (__s1), <span class="stringliteral">"2"</span> (__s2)
00478      : <span class="stringliteral">"cc"</span>);
00479   <span class="keywordflow">return</span> __res;
00480 }
00481 <span class="preprocessor">#endif</span>
00482 <span class="preprocessor"></span>
00483 <span class="comment">/* Compare N characters of S1 and S2.  */</span>
00484 <span class="preprocessor">#define _HAVE_STRING_ARCH_strncmp 1</span>
00485 <span class="preprocessor"></span><span class="preprocessor">#ifndef _FORCE_INLINES</span>
00486 <span class="preprocessor"></span><a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> <span class="keywordtype">int</span>
00487 <a class="code" href="string2_8h.html#a13">strncmp</a> (__const <span class="keywordtype">char</span> *__s1, __const <span class="keywordtype">char</span> *__s2, size_t __n)
00488 {
00489   <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> __d0, __d1, __d2;
00490   <span class="keyword">register</span> <span class="keywordtype">int</span> __res;
00491   __asm__ __volatile__
00492     (<span class="stringliteral">"cld\n"</span>
00493      <span class="stringliteral">"1:\n\t"</span>
00494      <span class="stringliteral">"decl  %3\n\t"</span>
00495      <span class="stringliteral">"js    2f\n\t"</span>
00496      <span class="stringliteral">"lodsb\n\t"</span>
00497      <span class="stringliteral">"scasb\n\t"</span>
00498      <span class="stringliteral">"jne   3f\n\t"</span>
00499      <span class="stringliteral">"testb %%al,%%al\n\t"</span>
00500      <span class="stringliteral">"jne   1b\n"</span>
00501      <span class="stringliteral">"2:\n\t"</span>
00502      <span class="stringliteral">"xorl  %%eax,%%eax\n\t"</span>
00503      <span class="stringliteral">"jmp   4f\n"</span>
00504      <span class="stringliteral">"3:\n\t"</span>
00505      <span class="stringliteral">"sbbl  %%eax,%%eax\n\t"</span>
00506      <span class="stringliteral">"orb   $1,%%al\n"</span>
00507      <span class="stringliteral">"4:"</span>
00508      : <span class="stringliteral">"=a"</span> (__res), <span class="stringliteral">"=&amp;S"</span> (__d0), <span class="stringliteral">"=&amp;D"</span> (__d1), <span class="stringliteral">"=&amp;c"</span> (__d2)
00509      : <span class="stringliteral">"1"</span> (__s1), <span class="stringliteral">"2"</span> (__s2), <span class="stringliteral">"3"</span> (__n)
00510      : <span class="stringliteral">"cc"</span>);
00511   <span class="keywordflow">return</span> __res;
00512 }
00513 <span class="preprocessor">#endif</span>
00514 <span class="preprocessor"></span>
00515 <span class="comment">/* Find the first occurrence of C in S.  */</span>
00516 <span class="preprocessor">#define _HAVE_STRING_ARCH_strchr 1</span>
00517 <span class="preprocessor"></span><span class="preprocessor">#define _USE_STRING_ARCH_strchr 1</span>
00518 <span class="preprocessor"></span><span class="preprocessor">#define strchr(s, c) \</span>
00519 <span class="preprocessor">  (__extension__ (__builtin_constant_p (c)                    \</span>
00520 <span class="preprocessor">          ? __strchr_c (s, ((c) &amp; 0xff) &lt;&lt; 8)                 \</span>
00521 <span class="preprocessor">          : __strchr_g (s, c)))</span>
00522 <span class="preprocessor"></span>
00523 <a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> <span class="keywordtype">char</span> *__strchr_g (__const <span class="keywordtype">char</span> *__s, <span class="keywordtype">int</span> __c);
00524 
00525 <a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> <span class="keywordtype">char</span> *
00526 __strchr_g (__const <span class="keywordtype">char</span> *__s, <span class="keywordtype">int</span> __c)
00527 {
00528   <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> __d0;
00529   <span class="keyword">register</span> <span class="keywordtype">char</span> *__res;
00530   __asm__ __volatile__
00531     (<span class="stringliteral">"cld\n\t"</span>
00532      <span class="stringliteral">"movb  %%al,%%ah\n"</span>
00533      <span class="stringliteral">"1:\n\t"</span>
00534      <span class="stringliteral">"lodsb\n\t"</span>
00535      <span class="stringliteral">"cmpb  %%ah,%%al\n\t"</span>
00536      <span class="stringliteral">"je    2f\n\t"</span>
00537      <span class="stringliteral">"testb %%al,%%al\n\t"</span>
00538      <span class="stringliteral">"jne   1b\n\t"</span>
00539      <span class="stringliteral">"movl  $1,%1\n"</span>
00540      <span class="stringliteral">"2:\n\t"</span>
00541      <span class="stringliteral">"movl  %1,%0"</span>
00542      : <span class="stringliteral">"=a"</span> (__res), <span class="stringliteral">"=&amp;S"</span> (__d0)
00543      : <span class="stringliteral">"0"</span> (__c), <span class="stringliteral">"1"</span> (__s)
00544      : <span class="stringliteral">"cc"</span>);
00545   <span class="keywordflow">return</span> __res - 1;
00546 }
00547 
00548 <a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> <span class="keywordtype">char</span> *__strchr_c (__const <span class="keywordtype">char</span> *__s, <span class="keywordtype">int</span> __c);
00549 
00550 <a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> <span class="keywordtype">char</span> *
00551 __strchr_c (__const <span class="keywordtype">char</span> *__s, <span class="keywordtype">int</span> __c)
00552 {
00553   <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> __d0;
00554   <span class="keyword">register</span> <span class="keywordtype">char</span> *__res;
00555   __asm__ __volatile__
00556     (<span class="stringliteral">"cld\n\t"</span>
00557      <span class="stringliteral">"1:\n\t"</span>
00558      <span class="stringliteral">"lodsb\n\t"</span>
00559      <span class="stringliteral">"cmpb  %%ah,%%al\n\t"</span>
00560      <span class="stringliteral">"je    2f\n\t"</span>
00561      <span class="stringliteral">"testb %%al,%%al\n\t"</span>
00562      <span class="stringliteral">"jne   1b\n\t"</span>
00563      <span class="stringliteral">"movl  $1,%1\n"</span>
00564      <span class="stringliteral">"2:\n\t"</span>
00565      <span class="stringliteral">"movl  %1,%0"</span>
00566      : <span class="stringliteral">"=a"</span> (__res), <span class="stringliteral">"=&amp;S"</span> (__d0)
00567      : <span class="stringliteral">"0"</span> (__c), <span class="stringliteral">"1"</span> (__s)
00568      : <span class="stringliteral">"cc"</span>);
00569   <span class="keywordflow">return</span> __res - 1;
00570 }
00571 
00572 
00573 <span class="comment">/* Find the first occurrence of C in S or the final NUL byte.  */</span>
00574 <span class="preprocessor">#define _HAVE_STRING_ARCH_strchrnul 1</span>
00575 <span class="preprocessor"></span><span class="preprocessor">#define __strchrnul(s, c) \</span>
00576 <span class="preprocessor">  (__extension__ (__builtin_constant_p (c)                    \</span>
00577 <span class="preprocessor">          ? ((c) == '\0'                          \</span>
00578 <span class="preprocessor">             ? (char *) __rawmemchr (s, c)                \</span>
00579 <span class="preprocessor">             : __strchrnul_c (s, ((c) &amp; 0xff) &lt;&lt; 8))              \</span>
00580 <span class="preprocessor">          : __strchrnul_g (s, c)))</span>
00581 <span class="preprocessor"></span>
00582 <a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> <span class="keywordtype">char</span> *__strchrnul_g (__const <span class="keywordtype">char</span> *__s, <span class="keywordtype">int</span> __c);
00583 
00584 <a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> <span class="keywordtype">char</span> *
00585 __strchrnul_g (__const <span class="keywordtype">char</span> *__s, <span class="keywordtype">int</span> __c)
00586 {
00587   <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> __d0;
00588   <span class="keyword">register</span> <span class="keywordtype">char</span> *__res;
00589   __asm__ __volatile__
00590     (<span class="stringliteral">"cld\n\t"</span>
00591      <span class="stringliteral">"movb  %%al,%%ah\n"</span>
00592      <span class="stringliteral">"1:\n\t"</span>
00593      <span class="stringliteral">"lodsb\n\t"</span>
00594      <span class="stringliteral">"cmpb  %%ah,%%al\n\t"</span>
00595      <span class="stringliteral">"je    2f\n\t"</span>
00596      <span class="stringliteral">"testb %%al,%%al\n\t"</span>
00597      <span class="stringliteral">"jne   1b\n\t"</span>
00598      <span class="stringliteral">"2:\n\t"</span>
00599      <span class="stringliteral">"movl  %1,%0"</span>
00600      : <span class="stringliteral">"=a"</span> (__res), <span class="stringliteral">"=&amp;S"</span> (__d0)
00601      : <span class="stringliteral">"0"</span> (__c), <span class="stringliteral">"1"</span> (__s)
00602      : <span class="stringliteral">"cc"</span>);
00603   <span class="keywordflow">return</span> __res - 1;
00604 }
00605 
00606 <a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> <span class="keywordtype">char</span> *__strchrnul_c (__const <span class="keywordtype">char</span> *__s, <span class="keywordtype">int</span> __c);
00607 
00608 <a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> <span class="keywordtype">char</span> *
00609 __strchrnul_c (__const <span class="keywordtype">char</span> *__s, <span class="keywordtype">int</span> __c)
00610 {
00611   <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> __d0;
00612   <span class="keyword">register</span> <span class="keywordtype">char</span> *__res;
00613   __asm__ __volatile__
00614     (<span class="stringliteral">"cld\n\t"</span>
00615      <span class="stringliteral">"1:\n\t"</span>
00616      <span class="stringliteral">"lodsb\n\t"</span>
00617      <span class="stringliteral">"cmpb  %%ah,%%al\n\t"</span>
00618      <span class="stringliteral">"je    2f\n\t"</span>
00619      <span class="stringliteral">"testb %%al,%%al\n\t"</span>
00620      <span class="stringliteral">"jne   1b\n\t"</span>
00621      <span class="stringliteral">"2:\n\t"</span>
00622      <span class="stringliteral">"movl  %1,%0"</span>
00623      : <span class="stringliteral">"=a"</span> (__res), <span class="stringliteral">"=&amp;S"</span> (__d0)
00624      : <span class="stringliteral">"0"</span> (__c), <span class="stringliteral">"1"</span> (__s)
00625      : <span class="stringliteral">"cc"</span>);
00626   <span class="keywordflow">return</span> __res - 1;
00627 }
00628 <span class="preprocessor">#ifdef __USE_GNU</span>
00629 <span class="preprocessor"></span><span class="preprocessor"># define strchrnul(s, c) __strchrnul (s, c)</span>
00630 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00631 <span class="preprocessor"></span>
00632 
00633 <span class="comment">/* Return the length of the initial segment of S which</span>
00634 <span class="comment">   consists entirely of characters not in REJECT.  */</span>
00635 <span class="preprocessor">#define _HAVE_STRING_ARCH_strcspn 1</span>
00636 <span class="preprocessor"></span><span class="preprocessor">#ifndef _FORCE_INLINES</span>
00637 <span class="preprocessor"></span><span class="preprocessor"># ifdef __PIC__</span>
00638 <span class="preprocessor"></span><a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> size_t
00639 <a class="code" href="string2_8h.html#a14">strcspn</a> (__const <span class="keywordtype">char</span> *__s, __const <span class="keywordtype">char</span> *__reject)
00640 {
00641   <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> __d0, __d1, __d2;
00642   <span class="keyword">register</span> <span class="keywordtype">char</span> *__res;
00643   __asm__ __volatile__
00644     (<span class="stringliteral">"pushl %%ebx\n\t"</span>
00645      <span class="stringliteral">"cld\n\t"</span>
00646      <span class="stringliteral">"movl  %4,%%edi\n\t"</span>
00647      <span class="stringliteral">"repne; scasb\n\t"</span>
00648      <span class="stringliteral">"notl  %%ecx\n\t"</span>
00649      <span class="stringliteral">"decl  %%ecx\n\t"</span>
00650      <span class="stringliteral">"movl  %%ecx,%%ebx\n"</span>
00651      <span class="stringliteral">"1:\n\t"</span>
00652      <span class="stringliteral">"lodsb\n\t"</span>
00653      <span class="stringliteral">"testb %%al,%%al\n\t"</span>
00654      <span class="stringliteral">"je    2f\n\t"</span>
00655      <span class="stringliteral">"movl  %4,%%edi\n\t"</span>
00656      <span class="stringliteral">"movl  %%ebx,%%ecx\n\t"</span>
00657      <span class="stringliteral">"repne; scasb\n\t"</span>
00658      <span class="stringliteral">"jne   1b\n"</span>
00659      <span class="stringliteral">"2:\n\t"</span>
00660      <span class="stringliteral">"popl  %%ebx"</span>
00661      : <span class="stringliteral">"=&amp;S"</span> (__res), <span class="stringliteral">"=&amp;a"</span> (__d0), <span class="stringliteral">"=&amp;c"</span> (__d1), <span class="stringliteral">"=&amp;D"</span> (__d2)
00662      : <span class="stringliteral">"d"</span> (__reject), <span class="stringliteral">"0"</span> (__s), <span class="stringliteral">"1"</span> (0), <span class="stringliteral">"2"</span> (0xffffffff)
00663      : <span class="stringliteral">"cc"</span>);
00664   <span class="keywordflow">return</span> (__res - 1) - __s;
00665 }
00666 <span class="preprocessor"># else</span>
00667 <span class="preprocessor"></span><a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> size_t
00668 <a class="code" href="string2_8h.html#a14">strcspn</a> (__const <span class="keywordtype">char</span> *__s, __const <span class="keywordtype">char</span> *__reject)
00669 {
00670   <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> __d0, __d1, __d2, __d3;
00671   <span class="keyword">register</span> <span class="keywordtype">char</span> *__res;
00672   __asm__ __volatile__
00673     (<span class="stringliteral">"cld\n\t"</span>
00674      <span class="stringliteral">"movl  %5,%%edi\n\t"</span>
00675      <span class="stringliteral">"repne; scasb\n\t"</span>
00676      <span class="stringliteral">"notl  %%ecx\n\t"</span>
00677      <span class="stringliteral">"decl  %%ecx\n\t"</span>
00678      <span class="stringliteral">"movl  %%ecx,%%edx\n"</span>
00679      <span class="stringliteral">"1:\n\t"</span>
00680      <span class="stringliteral">"lodsb\n\t"</span>
00681      <span class="stringliteral">"testb %%al,%%al\n\t"</span>
00682      <span class="stringliteral">"je    2f\n\t"</span>
00683      <span class="stringliteral">"movl  %5,%%edi\n\t"</span>
00684      <span class="stringliteral">"movl  %%edx,%%ecx\n\t"</span>
00685      <span class="stringliteral">"repne; scasb\n\t"</span>
00686      <span class="stringliteral">"jne   1b\n"</span>
00687      <span class="stringliteral">"2:"</span>
00688      : <span class="stringliteral">"=&amp;S"</span> (__res), <span class="stringliteral">"=&amp;a"</span> (__d0), <span class="stringliteral">"=&amp;c"</span> (__d1), <span class="stringliteral">"=&amp;d"</span> (__d2), <span class="stringliteral">"=&amp;D"</span> (__d3)
00689      : <span class="stringliteral">"g"</span> (__reject), <span class="stringliteral">"0"</span> (__s), <span class="stringliteral">"1"</span> (0), <span class="stringliteral">"2"</span> (0xffffffff)
00690      : <span class="stringliteral">"cc"</span>);
00691   <span class="keywordflow">return</span> (__res - 1) - __s;
00692 }
00693 <span class="preprocessor"># endif</span>
00694 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00695 <span class="preprocessor"></span>
00696 
00697 <span class="comment">/* Return the length of the initial segment of S which</span>
00698 <span class="comment">   consists entirely of characters in ACCEPT.  */</span>
00699 <span class="preprocessor">#define _HAVE_STRING_ARCH_strspn 1</span>
00700 <span class="preprocessor"></span><span class="preprocessor">#ifndef _FORCE_INLINES</span>
00701 <span class="preprocessor"></span><span class="preprocessor"># ifdef __PIC__</span>
00702 <span class="preprocessor"></span><a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> size_t
00703 <a class="code" href="string2_8h.html#a15">strspn</a> (__const <span class="keywordtype">char</span> *__s, __const <span class="keywordtype">char</span> *__accept)
00704 {
00705   <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> __d0, __d1, __d2;
00706   <span class="keyword">register</span> <span class="keywordtype">char</span> *__res;
00707   __asm__ __volatile__
00708     (<span class="stringliteral">"pushl %%ebx\n\t"</span>
00709      <span class="stringliteral">"cld\n\t"</span>
00710      <span class="stringliteral">"movl  %4,%%edi\n\t"</span>
00711      <span class="stringliteral">"repne; scasb\n\t"</span>
00712      <span class="stringliteral">"notl  %%ecx\n\t"</span>
00713      <span class="stringliteral">"decl  %%ecx\n\t"</span>
00714      <span class="stringliteral">"movl  %%ecx,%%ebx\n"</span>
00715      <span class="stringliteral">"1:\n\t"</span>
00716      <span class="stringliteral">"lodsb\n\t"</span>
00717      <span class="stringliteral">"testb %%al,%%al\n\t"</span>
00718      <span class="stringliteral">"je    2f\n\t"</span>
00719      <span class="stringliteral">"movl  %4,%%edi\n\t"</span>
00720      <span class="stringliteral">"movl  %%ebx,%%ecx\n\t"</span>
00721      <span class="stringliteral">"repne; scasb\n\t"</span>
00722      <span class="stringliteral">"je    1b\n"</span>
00723      <span class="stringliteral">"2:\n\t"</span>
00724      <span class="stringliteral">"popl  %%ebx"</span>
00725      : <span class="stringliteral">"=&amp;S"</span> (__res), <span class="stringliteral">"=&amp;a"</span> (__d0), <span class="stringliteral">"=&amp;c"</span> (__d1), <span class="stringliteral">"=&amp;D"</span> (__d2)
00726      : <span class="stringliteral">"r"</span> (__accept), <span class="stringliteral">"0"</span> (__s), <span class="stringliteral">"1"</span> (0), <span class="stringliteral">"2"</span> (0xffffffff)
00727      : <span class="stringliteral">"cc"</span>);
00728   <span class="keywordflow">return</span> (__res - 1) - __s;
00729 }
00730 <span class="preprocessor"># else</span>
00731 <span class="preprocessor"></span><a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> size_t
00732 <a class="code" href="string2_8h.html#a15">strspn</a> (__const <span class="keywordtype">char</span> *__s, __const <span class="keywordtype">char</span> *__accept)
00733 {
00734   <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> __d0, __d1, __d2, __d3;
00735   <span class="keyword">register</span> <span class="keywordtype">char</span> *__res;
00736   __asm__ __volatile__
00737     (<span class="stringliteral">"cld\n\t"</span>
00738      <span class="stringliteral">"movl  %5,%%edi\n\t"</span>
00739      <span class="stringliteral">"repne; scasb\n\t"</span>
00740      <span class="stringliteral">"notl  %%ecx\n\t"</span>
00741      <span class="stringliteral">"decl  %%ecx\n\t"</span>
00742      <span class="stringliteral">"movl  %%ecx,%%edx\n"</span>
00743      <span class="stringliteral">"1:\n\t"</span>
00744      <span class="stringliteral">"lodsb\n\t"</span>
00745      <span class="stringliteral">"testb %%al,%%al\n\t"</span>
00746      <span class="stringliteral">"je    2f\n\t"</span>
00747      <span class="stringliteral">"movl  %5,%%edi\n\t"</span>
00748      <span class="stringliteral">"movl  %%edx,%%ecx\n\t"</span>
00749      <span class="stringliteral">"repne; scasb\n\t"</span>
00750      <span class="stringliteral">"je    1b\n"</span>
00751      <span class="stringliteral">"2:"</span>
00752      : <span class="stringliteral">"=&amp;S"</span> (__res), <span class="stringliteral">"=&amp;a"</span> (__d0), <span class="stringliteral">"=&amp;c"</span> (__d1), <span class="stringliteral">"=&amp;d"</span> (__d2), <span class="stringliteral">"=&amp;D"</span> (__d3)
00753      : <span class="stringliteral">"g"</span> (__accept), <span class="stringliteral">"0"</span> (__s), <span class="stringliteral">"1"</span> (0), <span class="stringliteral">"2"</span> (0xffffffff)
00754      : <span class="stringliteral">"cc"</span>);
00755   <span class="keywordflow">return</span> (__res - 1) - __s;
00756 }
00757 <span class="preprocessor"># endif</span>
00758 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00759 <span class="preprocessor"></span>
00760 
00761 <span class="comment">/* Find the first occurrence in S of any character in ACCEPT.  */</span>
00762 <span class="preprocessor">#define _HAVE_STRING_ARCH_strpbrk 1</span>
00763 <span class="preprocessor"></span><span class="preprocessor">#ifndef _FORCE_INLINES</span>
00764 <span class="preprocessor"></span><span class="preprocessor"># ifdef __PIC__</span>
00765 <span class="preprocessor"></span><a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> <span class="keywordtype">char</span> *
00766 <a class="code" href="string2_8h.html#a16">strpbrk</a> (__const <span class="keywordtype">char</span> *__s, __const <span class="keywordtype">char</span> *__accept)
00767 {
00768   <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> __d0, __d1, __d2;
00769   <span class="keyword">register</span> <span class="keywordtype">char</span> *__res;
00770   __asm__ __volatile__
00771     (<span class="stringliteral">"pushl %%ebx\n\t"</span>
00772      <span class="stringliteral">"cld\n\t"</span>
00773      <span class="stringliteral">"movl  %4,%%edi\n\t"</span>
00774      <span class="stringliteral">"repne; scasb\n\t"</span>
00775      <span class="stringliteral">"notl  %%ecx\n\t"</span>
00776      <span class="stringliteral">"decl  %%ecx\n\t"</span>
00777      <span class="stringliteral">"movl  %%ecx,%%ebx\n"</span>
00778      <span class="stringliteral">"1:\n\t"</span>
00779      <span class="stringliteral">"lodsb\n\t"</span>
00780      <span class="stringliteral">"testb %%al,%%al\n\t"</span>
00781      <span class="stringliteral">"je    2f\n\t"</span>
00782      <span class="stringliteral">"movl  %4,%%edi\n\t"</span>
00783      <span class="stringliteral">"movl  %%ebx,%%ecx\n\t"</span>
00784      <span class="stringliteral">"repne; scasb\n\t"</span>
00785      <span class="stringliteral">"jne   1b\n\t"</span>
00786      <span class="stringliteral">"decl  %0\n\t"</span>
00787      <span class="stringliteral">"jmp   3f\n"</span>
00788      <span class="stringliteral">"2:\n\t"</span>
00789      <span class="stringliteral">"xorl  %0,%0\n"</span>
00790      <span class="stringliteral">"3:\n\t"</span>
00791      <span class="stringliteral">"popl  %%ebx"</span>
00792      : <span class="stringliteral">"=&amp;S"</span> (__res), <span class="stringliteral">"=&amp;a"</span> (__d0), <span class="stringliteral">"=&amp;c"</span> (__d1), <span class="stringliteral">"=&amp;D"</span> (__d2)
00793      : <span class="stringliteral">"r"</span> (__accept), <span class="stringliteral">"0"</span> (__s), <span class="stringliteral">"1"</span> (0), <span class="stringliteral">"2"</span> (0xffffffff)
00794      : <span class="stringliteral">"cc"</span>);
00795   <span class="keywordflow">return</span> __res;
00796 }
00797 <span class="preprocessor"># else</span>
00798 <span class="preprocessor"></span><a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> <span class="keywordtype">char</span> *
00799 <a class="code" href="string2_8h.html#a16">strpbrk</a> (__const <span class="keywordtype">char</span> *__s, __const <span class="keywordtype">char</span> *__accept)
00800 {
00801   <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> __d0, __d1, __d2, __d3;
00802   <span class="keyword">register</span> <span class="keywordtype">char</span> *__res;
00803   __asm__ __volatile__
00804     (<span class="stringliteral">"cld\n\t"</span>
00805      <span class="stringliteral">"movl  %5,%%edi\n\t"</span>
00806      <span class="stringliteral">"repne; scasb\n\t"</span>
00807      <span class="stringliteral">"notl  %%ecx\n\t"</span>
00808      <span class="stringliteral">"decl  %%ecx\n\t"</span>
00809      <span class="stringliteral">"movl  %%ecx,%%edx\n"</span>
00810      <span class="stringliteral">"1:\n\t"</span>
00811      <span class="stringliteral">"lodsb\n\t"</span>
00812      <span class="stringliteral">"testb %%al,%%al\n\t"</span>
00813      <span class="stringliteral">"je    2f\n\t"</span>
00814      <span class="stringliteral">"movl  %5,%%edi\n\t"</span>
00815      <span class="stringliteral">"movl  %%edx,%%ecx\n\t"</span>
00816      <span class="stringliteral">"repne; scasb\n\t"</span>
00817      <span class="stringliteral">"jne   1b\n\t"</span>
00818      <span class="stringliteral">"decl  %0\n\t"</span>
00819      <span class="stringliteral">"jmp   3f\n"</span>
00820      <span class="stringliteral">"2:\n\t"</span>
00821      <span class="stringliteral">"xorl  %0,%0\n"</span>
00822      <span class="stringliteral">"3:"</span>
00823      : <span class="stringliteral">"=&amp;S"</span> (__res), <span class="stringliteral">"=&amp;a"</span> (__d0), <span class="stringliteral">"=&amp;c"</span> (__d1), <span class="stringliteral">"=&amp;d"</span> (__d2), <span class="stringliteral">"=&amp;D"</span> (__d3)
00824      : <span class="stringliteral">"g"</span> (__accept), <span class="stringliteral">"0"</span> (__s), <span class="stringliteral">"1"</span> (0), <span class="stringliteral">"2"</span> (0xffffffff)
00825      : <span class="stringliteral">"cc"</span>);
00826   <span class="keywordflow">return</span> __res;
00827 }
00828 <span class="preprocessor"># endif</span>
00829 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00830 <span class="preprocessor"></span>
00831 
00832 <span class="comment">/* Find the first occurrence of NEEDLE in HAYSTACK.  */</span>
00833 <span class="preprocessor">#define _HAVE_STRING_ARCH_strstr 1</span>
00834 <span class="preprocessor"></span><span class="preprocessor">#ifndef _FORCE_INLINES</span>
00835 <span class="preprocessor"></span><span class="preprocessor"># ifdef __PIC__</span>
00836 <span class="preprocessor"></span><a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> <span class="keywordtype">char</span> *
00837 <a class="code" href="string2_8h.html#a17">strstr</a> (__const <span class="keywordtype">char</span> *__haystack, __const <span class="keywordtype">char</span> *__needle)
00838 {
00839   <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> __d0, __d1, __d2;
00840   <span class="keyword">register</span> <span class="keywordtype">char</span> *__res;
00841   __asm__ __volatile__
00842     (<span class="stringliteral">"pushl %%ebx\n\t"</span>
00843      <span class="stringliteral">"cld\n\t"</span> \
00844      <span class="stringliteral">"movl  %4,%%edi\n\t"</span>
00845      <span class="stringliteral">"repne; scasb\n\t"</span>
00846      <span class="stringliteral">"notl  %%ecx\n\t"</span>
00847      <span class="stringliteral">"decl  %%ecx\n\t"</span>  <span class="comment">/* NOTE! This also sets Z if searchstring='' */</span>
00848      <span class="stringliteral">"movl  %%ecx,%%ebx\n"</span>
00849      <span class="stringliteral">"1:\n\t"</span>
00850      <span class="stringliteral">"movl  %4,%%edi\n\t"</span>
00851      <span class="stringliteral">"movl  %%esi,%%eax\n\t"</span>
00852      <span class="stringliteral">"movl  %%ebx,%%ecx\n\t"</span>
00853      <span class="stringliteral">"repe; cmpsb\n\t"</span>
00854      <span class="stringliteral">"je    2f\n\t"</span>     <span class="comment">/* also works for empty string, see above */</span>
00855      <span class="stringliteral">"xchgl %%eax,%%esi\n\t"</span>
00856      <span class="stringliteral">"incl  %%esi\n\t"</span>
00857      <span class="stringliteral">"cmpb  $0,-1(%%eax)\n\t"</span>
00858      <span class="stringliteral">"jne   1b\n\t"</span>
00859      <span class="stringliteral">"xorl  %%eax,%%eax\n\t"</span>
00860      <span class="stringliteral">"2:\n\t"</span>
00861      <span class="stringliteral">"popl  %%ebx"</span>
00862      : <span class="stringliteral">"=&amp;a"</span> (__res), <span class="stringliteral">"=&amp;c"</span> (__d0), <span class="stringliteral">"=&amp;S"</span> (__d1), <span class="stringliteral">"=&amp;D"</span> (__d2)
00863      : <span class="stringliteral">"r"</span> (__needle), <span class="stringliteral">"0"</span> (0), <span class="stringliteral">"1"</span> (0xffffffff), <span class="stringliteral">"2"</span> (__haystack)
00864      : <span class="stringliteral">"cc"</span>);
00865   <span class="keywordflow">return</span> __res;
00866 }
00867 <span class="preprocessor"># else</span>
00868 <span class="preprocessor"></span><a class="code" href="string2_8h.html#a0">__STRING_INLINE</a> <span class="keywordtype">char</span> *
00869 <a class="code" href="string2_8h.html#a17">strstr</a> (__const <span class="keywordtype">char</span> *__haystack, __const <span class="keywordtype">char</span> *__needle)
00870 {
00871   <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> __d0, __d1, __d2, __d3;
00872   <span class="keyword">register</span> <span class="keywordtype">char</span> *__res;
00873   __asm__ __volatile__
00874     (<span class="stringliteral">"cld\n\t"</span> \
00875      <span class="stringliteral">"movl  %5,%%edi\n\t"</span>
00876      <span class="stringliteral">"repne; scasb\n\t"</span>
00877      <span class="stringliteral">"notl  %%ecx\n\t"</span>
00878      <span class="stringliteral">"decl  %%ecx\n\t"</span>  <span class="comment">/* NOTE! This also sets Z if searchstring='' */</span>
00879      <span class="stringliteral">"movl  %%ecx,%%edx\n"</span>
00880      <span class="stringliteral">"1:\n\t"</span>
00881      <span class="stringliteral">"movl  %5,%%edi\n\t"</span>
00882      <span class="stringliteral">"movl  %%esi,%%eax\n\t"</span>
00883      <span class="stringliteral">"movl  %%edx,%%ecx\n\t"</span>
00884      <span class="stringliteral">"repe; cmpsb\n\t"</span>
00885      <span class="stringliteral">"je    2f\n\t"</span>     <span class="comment">/* also works for empty string, see above */</span>
00886      <span class="stringliteral">"xchgl %%eax,%%esi\n\t"</span>
00887      <span class="stringliteral">"incl  %%esi\n\t"</span>
00888      <span class="stringliteral">"cmpb  $0,-1(%%eax)\n\t"</span>
00889      <span class="stringliteral">"jne   1b\n\t"</span>
00890      <span class="stringliteral">"xorl  %%eax,%%eax\n\t"</span>
00891      <span class="stringliteral">"2:"</span>
00892      : <span class="stringliteral">"=&amp;a"</span> (__res), <span class="stringliteral">"=&amp;c"</span> (__d0), <span class="stringliteral">"=&amp;S"</span> (__d1), <span class="stringliteral">"=&amp;d"</span> (__d2), <span class="stringliteral">"=&amp;D"</span> (__d3)
00893      : <span class="stringliteral">"g"</span> (__needle), <span class="stringliteral">"0"</span> (0), <span class="stringliteral">"1"</span> (0xffffffff), <span class="stringliteral">"2"</span> (__haystack)
00894      : <span class="stringliteral">"cc"</span>);
00895   <span class="keywordflow">return</span> __res;
00896 }
00897 <span class="preprocessor"># endif</span>
00898 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00899 <span class="preprocessor"></span>
00900 <span class="preprocessor">#ifndef _FORCE_INLINES</span>
00901 <span class="preprocessor"></span><span class="preprocessor"># undef __STRING_INLINE</span>
00902 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00903 <span class="preprocessor"></span>
00904 <span class="preprocessor">#endif  </span><span class="comment">/* use string inlines &amp;&amp; GNU CC */</span>
</pre></div>  </body>
</html>
